<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>Analytics/Data Lake/Traffic/Unique Devices/Last access solution - Wikitech</title>
<script>document.documentElement.className="client-js";RLCONF={"wgBreakFrames":false,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgRequestId":"aa54e6c0-5a67-482b-86c2-5e73858b0f9e","wgCSPNonce":false,"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Analytics/Data_Lake/Traffic/Unique_Devices/Last_access_solution","wgTitle":"Analytics/Data Lake/Traffic/Unique Devices/Last access solution","wgCurRevisionId":1872699,"wgRevisionId":1872699,"wgArticleId":20878,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgRelevantPageName":"Analytics/Data_Lake/Traffic/Unique_Devices/Last_access_solution","wgRelevantArticleId":20878,"wgIsProbablyEditable":
false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgRedirectedFrom":"Analytics/Unique_Devices/Last_access_solution","wgVisualEditor":{"pageLanguageCode":"en","pageLanguageDir":"ltr","pageVariantFallbacks":"en"},"wgMFDisplayWikibaseDescriptions":{"search":true,"nearby":true,"watchlist":true,"tagline":false},"wgWMESchemaEditAttemptStepOversample":false,"wgWMEPageLength":20000,"wgMediaViewerOnClick":true,"wgMediaViewerEnabledByDefault":true,"wgULSCurrentAutonym":"English","wgInternalRedirectTargetUrl":"/wiki/Analytics/Data_Lake/Traffic/Unique_Devices/Last_access_solution","wgEditSubmitButtonLabelPublish":true,"wgDiscussionToolsFeaturesEnabled":{"replytool":true,"newtopictool":false,"sourcemodetoolbar":true,"topicsubscription":false,"autotopicsub":false},"wgDiscussionToolsFallbackEditMode":"visual","wgULSPosition":"personal","wgULSisCompactLinksEnabled":true,"wgSiteNoticeId":"2.0"};RLSTATE={"ext.gadget.enwp-boxes":"ready","site.styles":"ready",
"user.styles":"ready","user":"ready","user.options":"loading","ext.discussionTools.init.styles":"ready","skins.vector.styles.legacy":"ready","jquery.tablesorter.styles":"ready","ext.visualEditor.desktopArticleTarget.noscript":"ready","ext.uls.pt":"ready","ext.dismissableSiteNotice.styles":"ready"};RLPAGEMODULES=["mediawiki.action.view.redirect","site","mediawiki.page.ready","jquery.tablesorter","mediawiki.toc","skins.vector.legacy.js","mmv.head","mmv.bootstrap.autostart","ext.visualEditor.desktopArticleTarget.init","ext.visualEditor.targetLoader","ext.eventLogging","ext.wikimediaEvents","ext.gadget.site","ext.discussionTools.init","ext.uls.compactlinks","ext.uls.interface","ext.dismissableSiteNotice"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.implement("user.options@1i9g4",function($,jQuery,require,module){mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});});});</script>
<link rel="stylesheet" href="/w/load.php?lang=en&amp;modules=ext.discussionTools.init.styles%7Cext.dismissableSiteNotice.styles%7Cext.uls.pt%7Cext.visualEditor.desktopArticleTarget.noscript%7Cjquery.tablesorter.styles%7Cskins.vector.styles.legacy&amp;only=styles&amp;skin=vector"/>
<script async="" src="/w/load.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="/w/load.php?lang=en&amp;modules=ext.gadget.enwp-boxes&amp;only=styles&amp;skin=vector"/>
<link rel="stylesheet" href="/w/load.php?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.39.0-wmf.10"/>
<meta name="referrer" content="origin"/>
<meta name="referrer" content="origin-when-crossorigin"/>
<meta name="referrer" content="origin-when-cross-origin"/>
<meta name="format-detection" content="telephone=no"/>
<meta property="og:title" content="Analytics/Data Lake/Traffic/Unique Devices/Last access solution - Wikitech"/>
<meta property="og:type" content="website"/>
<link rel="preconnect" href="//upload.wikimedia.org"/>
<link rel="shortcut icon" href="/static/favicon/wikitech.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="Wikitech (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="//wikitech.wikimedia.org/w/api.php?action=rsd"/>
<link rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/"/>
<link rel="canonical" href="https://wikitech.wikimedia.org/wiki/Analytics/Data_Lake/Traffic/Unique_Devices/Last_access_solution"/>
</head>
<body class="ext-discussiontools-replytool-enabled ext-discussiontools-sourcemodetoolbar-enabled mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Analytics_Data_Lake_Traffic_Unique_Devices_Last_access_solution rootpage-Analytics skin-vector action-view skin-vector-legacy"><div id="mw-page-base" class="noprint"></div>
<div id="mw-head-base" class="noprint"></div>
<div id="content" class="mw-body" role="main">
	<a id="top"></a>
	<div id="siteNotice"><div id="mw-dismissablenotice-anonplace"></div><script>(function(){var node=document.getElementById("mw-dismissablenotice-anonplace");if(node){node.outerHTML="\u003Cdiv class=\"mw-dismissable-notice\"\u003E\u003Cdiv class=\"mw-dismissable-notice-close\"\u003E[\u003Ca tabindex=\"0\" role=\"button\"\u003Edismiss\u003C/a\u003E]\u003C/div\u003E\u003Cdiv class=\"mw-dismissable-notice-body\"\u003E\u003Cdiv id=\"localNotice\"\u003E\u003Cdiv class=\"sitenotice\" lang=\"en\" dir=\"ltr\"\u003E\u003Cdiv class=\"center\"\u003E\u003Ca href=\"https://www.mediawiki.org/wiki/Wikimedia_Hackathon_2022\" class=\"extiw\" title=\"mw:Wikimedia Hackathon 2022\"\u003EWikimedia Hackathon 2022\u003C/a\u003E will be held \u003Ci\u003Eonline\u003C/i\u003E May 20-22, 2022.\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E";}}());</script></div>
	<div class="mw-indicators">
	</div>
	<h1 id="firstHeading" class="firstHeading mw-first-heading">Analytics/Data Lake/Traffic/Unique Devices/Last access solution</h1>
	<div id="bodyContent" class="vector-body">
		<div id="siteSub" class="noprint">From Wikitech</div>
		<div id="contentSub"><span class="subpages">&lt; <a href="/wiki/Analytics" class="mw-redirect" title="Analytics">Analytics</a>&lrm; | <a href="/wiki/Analytics/Data_Lake" title="Analytics/Data Lake">Data Lake</a>&lrm; | <a href="/wiki/Analytics/Data_Lake/Traffic" title="Analytics/Data Lake/Traffic">Traffic</a>&lrm; | <a href="/wiki/Analytics/Data_Lake/Traffic/Unique_Devices" title="Analytics/Data Lake/Traffic/Unique Devices">Unique Devices</a></span><span class="mw-redirectedfrom">(Redirected from <a href="/w/index.php?title=Analytics/Unique_Devices/Last_access_solution&amp;redirect=no" class="mw-redirect" title="Analytics/Unique Devices/Last access solution">Analytics/Unique Devices/Last access solution</a>)</span></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr"><div class="mw-parser-output"><div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none" /><div class="toctitle" lang="en" dir="ltr"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Objective"><span class="tocnumber">1</span> <span class="toctext">Objective</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Outcome"><span class="tocnumber">1.1</span> <span class="toctext">Outcome</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3"><a href="#Caveats"><span class="tocnumber">2</span> <span class="toctext">Caveats</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Bots"><span class="tocnumber">2.1</span> <span class="toctext">Bots</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Redirects"><span class="tocnumber">2.2</span> <span class="toctext">Redirects</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#Privacy"><span class="tocnumber">3</span> <span class="toctext">Privacy</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Technicalities"><span class="tocnumber">4</span> <span class="toctext">Technicalities</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#How_we_are_counting:_Plain_English"><span class="tocnumber">4.1</span> <span class="toctext">How we are counting: Plain English</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#How_we_are_counting:_Technical_explanation"><span class="tocnumber">4.2</span> <span class="toctext">How we are counting: Technical explanation</span></a>
<ul>
<li class="toclevel-3 tocsection-10"><a href="#Using_the_value_of_the_WMF-Last-Access_cookie"><span class="tocnumber">4.2.1</span> <span class="toctext">Using the value of the WMF-Last-Access cookie</span></a></li>
<li class="toclevel-3 tocsection-11"><a href="#Nocookie_Offset"><span class="tocnumber">4.2.2</span> <span class="toctext">Nocookie Offset</span></a>
<ul>
<li class="toclevel-4 tocsection-12"><a href="#How_big_of_a_percentage_does_the_offset_represent_from_the_total?"><span class="tocnumber">4.2.2.1</span> <span class="toctext">How big of a percentage does the offset represent from the total?</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-13"><a href="#The_redirect_issue_on_unique_device_counts_for_project_families"><span class="tocnumber">4.2.3</span> <span class="toctext">The redirect issue on unique device counts for project families</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-14"><a href="#Data_Quality_Analysis"><span class="tocnumber">5</span> <span class="toctext">Data Quality Analysis</span></a>
<ul>
<li class="toclevel-2 tocsection-15"><a href="#Unique_devices_per-domain"><span class="tocnumber">5.1</span> <span class="toctext"><b>Unique devices per-domain</b></span></a>
<ul>
<li class="toclevel-3 tocsection-16"><a href="#How_did_we_determined_this_1000_number_for_the_per-domain_uniques"><span class="tocnumber">5.1.1</span> <span class="toctext">How did we determined this 1000 number for the per-domain uniques</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-17"><a href="#Unique_devices_per_project-family"><span class="tocnumber">5.2</span> <span class="toctext">Unique devices per project-family</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Numbers"><span class="tocnumber">5.3</span> <span class="toctext">Numbers</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-19"><a href="#More_docs"><span class="tocnumber">6</span> <span class="toctext">More docs</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Objective" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-Objective&quot;,&quot;replies&quot;:[&quot;h-Outcome-Objective&quot;],&quot;headingLevel&quot;:2,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-Objective"></span>Objective<span data-mw-comment-end="h-Objective"></span></span></h2>
<p>The WMF Analytics Engineering team maintains counts of unique devices per-domain and per project-family, daily and monthly, in a way that does not uniquely identify, fingerprint or otherwise track users.  The outcome is reports on the number of Unique Devices per domain or project for a given month or day.  This is achieved by setting cookies with a Last-Access day on clients and counting sightings of browsers with an old cookie or no cookie at all.
</p>
<h3><span class="mw-headline" id="Outcome" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-Outcome-Objective&quot;,&quot;replies&quot;:[],&quot;headingLevel&quot;:3,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-Outcome-Objective"></span>Outcome<span data-mw-comment-end="h-Outcome-Objective"></span></span></h3>
<p>Reports in the following format:
</p>
<table class="wikitable">
<tbody><tr>
<td>
</td>
<td><b>monthly</b>
</td>
<td><b>daily</b>
</td></tr>
<tr>
<td><b>per-domain</b>
</td>
<td>
<table class="wikitable">

<tbody><tr>
<th>Domain
</th>
<th>2016-03
</th>
<th>2016-04
</th>
<th>...
</th></tr>
<tr>
<td>en.wikipedia.org
</td>
<td>200,000,000
</td>
<td>210,000,000
</td>
<td>...
</td></tr>
<tr>
<td>es.m.wikipedia.org
</td>
<td>20,000,000
</td>
<td>21,000,000
</td>
<td>...
</td></tr>
<tr>
<td>en.wikisource.org
</td>
<td>2,000,000
</td>
<td>2,100,000
</td>
<td>...
</td></tr>
<tr>
<td>es.wikisource.org
</td>
<td>200,000
</td>
<td>210,000
</td>
<td>...
</td></tr>
<tr>
<td>...
</td>
<td>...
</td>
<td>...
</td>
<td>...
</td></tr></tbody></table>
</td>
<td>
<table class="wikitable">

<tbody><tr>
<th>Domain
</th>
<th>2016-03-01
</th>
<th>2016-03-02
</th>
<th>...
</th></tr>
<tr>
<td>en.wikipedia.org
</td>
<td>200,000,000
</td>
<td>210,000,000
</td>
<td>...
</td></tr>
<tr>
<td>es.m.wikipedia.org
</td>
<td>20,000,000
</td>
<td>21,000,000
</td>
<td>...
</td></tr>
<tr>
<td>en.wikisource.org
</td>
<td>2,000,000
</td>
<td>2,100,000
</td>
<td>...
</td></tr>
<tr>
<td>es.wikisource.org
</td>
<td>200,000
</td>
<td>210,000
</td>
<td>...
</td></tr>
<tr>
<td>...
</td>
<td>...
</td>
<td>...
</td>
<td>...
</td></tr></tbody></table>
</td></tr>
<tr>
<td><b>project family</b>
</td>
<td>
<table class="wikitable">

<tbody><tr>
<th>Host
</th>
<th>2017-03
</th>
<th>2017-04
</th>
<th>...
</th></tr>
<tr>
<td>wikipedia.org
</td>
<td>200,000,000
</td>
<td>210,000,000
</td>
<td>...
</td></tr>
<tr>
<td>wikisource.org
</td>
<td>2,000,000
</td>
<td>2,100,000
</td>
<td>...
</td></tr>
<tr>
<td>wikivoyage.org
</td>
<td>200,000
</td>
<td>210,000
</td>
<td>...
</td></tr>
<tr>
<td>...
</td>
<td>...
</td>
<td>...
</td>
<td>...
</td></tr></tbody></table>
</td>
<td>
<table class="wikitable">

<tbody><tr>
<th>Host
</th>
<th>2017-03-01
</th>
<th>2017-03-02
</th>
<th>...
</th></tr>
<tr>
<td>wikipedia
</td>
<td>200,000,000
</td>
<td>210,000,000
</td>
<td>...
</td></tr>
<tr>
<td>wikisource
</td>
<td>2,000,000
</td>
<td>2,100,000
</td>
<td>...
</td></tr>
<tr>
<td>wikivoyage
</td>
<td>200,000
</td>
<td>210,000
</td>
<td>...
</td></tr>
<tr>
<td>...
</td>
<td>...
</td>
<td>...
</td>
<td>...
</td></tr></tbody></table>
</td></tr></tbody></table>
<h2><span class="mw-headline" id="Caveats" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-Caveats&quot;,&quot;replies&quot;:[&quot;h-Bots-Caveats&quot;,&quot;h-Redirects-Caveats&quot;],&quot;headingLevel&quot;:2,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-Caveats"></span>Caveats<span data-mw-comment-end="h-Caveats"></span></span></h2>
<h3><span class="mw-headline" id="Bots" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-Bots-Caveats&quot;,&quot;replies&quot;:[],&quot;headingLevel&quot;:3,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-Bots-Caveats"></span>Bots<span data-mw-comment-end="h-Bots-Caveats"></span></span></h3>
<p><a href="/wiki/Analytics/Data_Lake/Traffic/Unique_Devices/Automated_traffic_correction" title="Analytics/Data Lake/Traffic/Unique Devices/Automated traffic correction">Analytics/Data_Lake/Traffic/Unique_Devices/Automated_traffic_correction</a>
</p>
<h3><span class="mw-headline" id="Redirects" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-Redirects-Caveats&quot;,&quot;replies&quot;:[],&quot;headingLevel&quot;:3,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-Redirects-Caveats"></span>Redirects<span data-mw-comment-end="h-Redirects-Caveats"></span></span></h3>
<p>Redirects (http response codes <code>301</code>, <code>302 and</code> <code>307</code>) were originally filtered out from the unique devices computation. While this is the case for the per-domain unique devices, they have to be included in the per-project-family computation. See Technicalities/ for more details.
</p>
<h2><span class="mw-headline" id="Privacy" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-Privacy&quot;,&quot;replies&quot;:[],&quot;headingLevel&quot;:2,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-Privacy"></span>Privacy<span data-mw-comment-end="h-Privacy"></span></span></h2>
<ul><li>Users can delete or refuse cookies</li>
<li>We are not able to identify users from the data passed in the cookie.  The cookie contains only a year, month and day.</li>
<li>We comply with <a class="external text" href="https://meta.wikimedia.org/wiki/Privacy_policy">Wikimedia's Privacy Policy</a></li></ul>
<h2><span class="mw-headline" id="Technicalities" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-Technicalities&quot;,&quot;replies&quot;:[&quot;h-How_we_are_counting:_Plain_English-Technicalities&quot;,&quot;h-How_we_are_counting:_Technical_explanation-Technicalities&quot;],&quot;headingLevel&quot;:2,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-Technicalities"></span>Technicalities<span data-mw-comment-end="h-Technicalities"></span></span></h2>
<p>In order to produce the above report these are the cookies we need, each cookie stores last access time per project.
</p>
<ul><li>WMF-Last-Access:</li></ul>
<pre>&lt;&lt;language>>.m.&lt;&lt;project>>.org
  Mobile site uniques for &lt;&lt;project>> and &lt;&lt;language>>
</pre>
<pre>&lt;&lt;language>>.&lt;&lt;project>>.org
  desktop site uniques for &lt;&lt;project>> and &lt;&lt;language>>
</pre>
<ul><li>WMF-Last-Access-Global:</li></ul>
<pre>*.&lt;&lt;project>>.org
  Uniques for &lt;&lt;project>> <br/>
</pre>
<h3><span class="mw-headline" id="How_we_are_counting:_Plain_English" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-How_we_are_counting:_Plain_English-Technicalities&quot;,&quot;replies&quot;:[],&quot;headingLevel&quot;:3,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-How_we_are_counting:_Plain_English-Technicalities"></span>How we are counting: Plain English<span data-mw-comment-end="h-How_we_are_counting:_Plain_English-Technicalities"></span></span></h3>
<p>Unique devices are computing by adding two numbers, one derived from WMF-Last-Access or WMF-Last-Access-Global cookie and an offset. (In the rest of this section, we will use WMF-Last-Access, knowing that the same mechanism applies to WMF-Last-Access-Global.)
</p><p>A very high level explanation of how this works can be found on our blog: <a class="external text" href="https://blog.wikimedia.org/2016/03/30/unique-devices-dataset/">https://blog.wikimedia.org/2016/03/30/unique-devices-dataset/</a>.
</p><p>For a more technical explanation you can keep on reading.
</p>
<h3><span class="mw-headline" id="How_we_are_counting:_Technical_explanation" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-How_we_are_counting:_Technical_explanation-Technicalities&quot;,&quot;replies&quot;:[&quot;h-Using_the_value_of_the_WMF-Last-Access_cookie-How_we_are_counting:_Technical_explanation&quot;,&quot;h-Nocookie_Offset-How_we_are_counting:_Technical_explanation&quot;,&quot;h-The_redirect_issue_on_unique_device_counts_for_project_families-How_we_are_counting:_Technical_explanation&quot;],&quot;headingLevel&quot;:3,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-How_we_are_counting:_Technical_explanation-Technicalities"></span>How we are counting: Technical explanation<span data-mw-comment-end="h-How_we_are_counting:_Technical_explanation-Technicalities"></span></span></h3>
<h4><span class="mw-headline" id="Using_the_value_of_the_WMF-Last-Access_cookie" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-Using_the_value_of_the_WMF-Last-Access_cookie-How_we_are_counting:_Technical_explanation&quot;,&quot;replies&quot;:[],&quot;headingLevel&quot;:4,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-Using_the_value_of_the_WMF-Last-Access_cookie-How_we_are_counting:_Technical_explanation"></span>Using the value of the WMF-Last-Access cookie<span data-mw-comment-end="h-Using_the_value_of_the_WMF-Last-Access_cookie-How_we_are_counting:_Technical_explanation"></span></span></h4>
<p>Inside <a href="/wiki/Varnish" title="Varnish">Varnish</a> we set the cookies and alter the <a href="/wiki/X-Analytics" title="X-Analytics">X-Analytics</a> header. Two possible cases per cookie:
</p><p>1) Request comes in, user does not have a WMF-Last-Access cookie: We issue one with today as last access date, with a future expire time (any expire time over a month will work). Cookie value is "14-Dec-2015" for example. 
</p><p>2) Request comes in, user already has a WMF-Last-Access cookie: We re-issue a new cookie with a future expiration date and set the old date as the value of the cookie in the X-Analytics header. In our prior example, one day has gone by among requests, value of cookie is reset to "15-Dec-2015" and we store the following in the x-analytics header:
</p>
<pre>X-analytics["WMF-Last-Access"] = "14-Dec-2015"
</pre>
<p>In order to count unique devices for say, January, we get from the <a href="/wiki/Analytics/Data/Webrequest" class="mw-redirect" title="Analytics/Data/Webrequest">webrequest</a> table all requests from January that do not have a January date recorded on <code>x-analytics["WMF-Last-Access"]</code> (this includes requests without any Last-Access cookie at all). All those requests are counted toward the January uniques, because that device has not visited in January before (according to the Last-Access cookie).
</p><p>Same logic for daily: to count uniques on December 15th we will get all requests for December 15th that have an <code>X-analytics["WMF-Last-Access"]</code> value with an older date than December 15th. So the request in our example above will be counted. Those are uniques for December 15th.
</p><p>Note that this method of counting assumes that requests come from real users that accept cookies, so we are assuming that if we set a cookie we are going to be able to retrieve it in a subsequent request. This is true only in the case of browser clients that accept cookies. Although while counting we are only looking at traffic tagged as "user" in the cluster, we have to be aware of bots that are not reported as such. In order to discount those requests, we only count requests that have nocookie=0, meaning that those requests came to us with 'some' cookie set. <b>This method of counting, by definition, underreports users as we will not be counting users with a fresh session or users browsing without cookies.</b>
</p><p><br/>
</p>
<h4><span class="mw-headline" id="Nocookie_Offset" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-Nocookie_Offset-How_we_are_counting:_Technical_explanation&quot;,&quot;replies&quot;:[&quot;h-How_big_of_a_percentage_does_the_offset_represent_from_the_total?-Nocookie_Offset&quot;],&quot;headingLevel&quot;:4,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-Nocookie_Offset-How_we_are_counting:_Technical_explanation"></span>Nocookie Offset<span data-mw-comment-end="h-Nocookie_Offset-How_we_are_counting:_Technical_explanation"></span></span></h4>
<p>Per <a class="external text" href="https://wikitech.wikimedia.org/wiki/X-Analytics">x-analytics documentation</a> every request that comes in without cookies whatsoever is tagged with <code>nocookie=1</code>. Such requests include bots, users browsing with cookies off, and users who just launched a fresh "incognito" session in their browser. We did some research on this, and it turns out that <code>nocookie=1</code> is a cheap proxy to rule out a bunch of what might be bot traffic, see <a href="/wiki/Analytics/Unique_clients/Last_access_solution/BotResearch" class="mw-redirect" title="Analytics/Unique clients/Last access solution/BotResearch">Analytics/Unique_clients/Last_access_solution/BotResearch</a>.
</p><p>When possible, we want to make sure that we count devices that might be coming to Wikipedia with a fresh session without cookies at all. Thus, we also count as uniques requests with <code>nocookie=1</code>  whose signature appears only <b>once</b> in a day or month. The signature is calculated with a hash of (ip, user_agent, accept_language) per project. The idea behind this reasoning is that -if you are a real user- for the day and you did not refresh your browser session, there is only one request you could do without cookies, the 1st one. Subsequent requests will be sending the WMF-Last-Access cookie. 
</p><p>This methodology has two caveats: 
</p>
<ul><li>It underreports fresh sessions in mobile (due to NAT-ing of IP addresses that are shared among many users. see: <a rel="nofollow" class="external autonumber" href="http://serverfault.com/questions/60361/how-are-cellphone-ip-addresses-assigned">[1]</a> and  <a class="external autonumber" href="https://en.wikipedia.org/wiki/Network_address_translation">[2]</a>)</li></ul>
<ul><li>It will overreport a device in which the IP is changed frequently and/or cookies are deleted frequently as it will appear as two different fresh sessions to our logic. This is less prevalence of an occurrence than the underreport on mobile described prior.</li></ul>
<p>We add this offset to the numbers that result from looking at WMF-Last-Access cookie.
</p>
<h5><span id="How_big_of_a_percentage_does_the_offset_represent_from_the_total.3F"></span><span class="mw-headline" id="How_big_of_a_percentage_does_the_offset_represent_from_the_total?" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-How_big_of_a_percentage_does_the_offset_represent_from_the_total?-Nocookie_Offset&quot;,&quot;replies&quot;:[],&quot;headingLevel&quot;:5,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-How_big_of_a_percentage_does_the_offset_represent_from_the_total?-Nocookie_Offset"></span>How big of a percentage does the offset represent from the total?<span data-mw-comment-end="h-How_big_of_a_percentage_does_the_offset_represent_from_the_total?-Nocookie_Offset"></span></span></h5>
<p>For projects with more than 100.000 uniques, the offset represents between 5% and 60% of the total if counted daily, variability is high depending on project. The offset represents a smaller percentage on mobile domains, as we know numbers are underreported for fresh sessions in mobile. The offset also represents a higher percentage of monthly numbers, as fresh sessions are likely to be more numerous as we expand our timeperiod for counting them.
</p>
<table>

<tbody><tr>
<td><figure class="mw-halign-none" typeof="mw:Image"><a href="/wiki/File:Offsets_percentage_daily.png" class="mw-file-description"><img alt="Offsets percentage daily.png" src="//upload.wikimedia.org/wikipedia/labs/thumb/e/ef/Offsets_percentage_daily.png/400px-Offsets_percentage_daily.png" decoding="async" width="400" height="300" srcset="//upload.wikimedia.org/wikipedia/labs/thumb/e/ef/Offsets_percentage_daily.png/600px-Offsets_percentage_daily.png 1.5x, //upload.wikimedia.org/wikipedia/labs/e/ef/Offsets_percentage_daily.png 2x" data-file-width="800" data-file-height="600"/></a><figcaption></figcaption></figure></td>
<td><figure class="mw-halign-none" typeof="mw:Image"><a href="/wiki/File:Offsets_percentage_monthly.png" class="mw-file-description"><img alt="Offsets percentage monthly.png" src="//upload.wikimedia.org/wikipedia/labs/thumb/6/6b/Offsets_percentage_monthly.png/400px-Offsets_percentage_monthly.png" decoding="async" width="400" height="300" srcset="//upload.wikimedia.org/wikipedia/labs/thumb/6/6b/Offsets_percentage_monthly.png/600px-Offsets_percentage_monthly.png 1.5x, //upload.wikimedia.org/wikipedia/labs/6/6b/Offsets_percentage_monthly.png 2x" data-file-width="800" data-file-height="600"/></a><figcaption></figcaption></figure>
</td></tr></tbody></table>
<p><br/>
One other thing to keep in mind about the offset is that a high for offset doesn't mean bad quality data. In fact, for project-families having fact-checking mostly usage pattern (wiktionnary is a good example, once every now and then, you get there to check for spelling or existence, but it's not a usual pattern to follow inner-links on wiktionnaries as it is on wikipedias), having (many) more offsets than cookie-based unique devices is expected.
</p>
<h4><span class="mw-headline" id="The_redirect_issue_on_unique_device_counts_for_project_families" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-The_redirect_issue_on_unique_device_counts_for_project_families-How_we_are_counting:_Technical_explanation&quot;,&quot;replies&quot;:[],&quot;headingLevel&quot;:4,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-The_redirect_issue_on_unique_device_counts_for_project_families-How_we_are_counting:_Technical_explanation"></span>The redirect issue on unique device counts for project families<span data-mw-comment-end="h-The_redirect_issue_on_unique_device_counts_for_project_families-How_we_are_counting:_Technical_explanation"></span></span></h4>
<p>When a mobile device  with a fresh session (no cookies) visits the desktop version of one of our projects, for example <code>www.wikidata.org</code>, it gets redirected with a <code>302</code> to the mobile version of the website, here <code>m.wikidata.org</code>. In this transaction two cookies are set:
</p>
<dl><dd>1. Cookie on global domain (*.wikidata.org) when server responds with <code>302</code></dd>
<dd>2. Cookie set on m.wikidata.org on the regular <code>200</code> response from the Wikidata mobile site.</dd></dl>
<p>Our per-domain computation filters <code>301</code>/<code>302</code> requests (as those are not pageviews). That works well in the per-domain case, as the cookie is set on the <code>200</code> response. But it doesn't work for the global domain uniques calculation, as the cookie is being set "earlier". 
</p><p>In our example, if we filter out redirects for the project-family computation (counting devices on *.wikidata.org) and we only count the <code>200</code> responses (pageviews), we would be missing fresh sessions that exhibit the behaviour described above. In order to solve that issue, in June 2017 we updated the filter for project-family unique devices computation to accept redirects that lead to a pageview (<a href="https://phabricator.wikimedia.org/T167005" class="extiw" title="phab:T167005">phab:T167005</a>).
</p>
<h2><span class="mw-headline" id="Data_Quality_Analysis" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-Data_Quality_Analysis&quot;,&quot;replies&quot;:[&quot;h-Unique_devices_per-domain-Data_Quality_Analysis&quot;,&quot;h-Unique_devices_per_project-family-Data_Quality_Analysis&quot;,&quot;h-Numbers-Data_Quality_Analysis&quot;],&quot;headingLevel&quot;:2,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-Data_Quality_Analysis"></span>Data Quality Analysis<span data-mw-comment-end="h-Data_Quality_Analysis"></span></span></h2>
<h3><span class="mw-headline" id="Unique_devices_per-domain" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-Unique_devices_per-domain-Data_Quality_Analysis&quot;,&quot;replies&quot;:[&quot;h-How_did_we_determined_this_1000_number_for_the_per-domain_uniques-Unique_devices_per-domain&quot;],&quot;headingLevel&quot;:3,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-Unique_devices_per-domain-Data_Quality_Analysis"></span><b>Unique devices per-domain</b><span data-mw-comment-end="h-Unique_devices_per-domain-Data_Quality_Analysis"></span></span></h3>
<p>That is unique devices for en.m.wikimedia.org (mobile site) or en.wikimedia.org (desktop site).
</p>
<pre><b>We recommend that if you are using the unique devices number per domain, you consider domains having at least 1000 unique devices daily (one thousand).</b>  <b>Domains with less than 1000 unique devices show too much random variation for data to be actionable. In other words, data is too noisy if the number of unique devices is less than 1000 daily.</b>
</pre>
<ul><li>Depending on the project family you are looking at (Wikipedia or Wiktionary for instance), it is interesting to keep an eye on the uniques_offset.<b>  </b>For projects where  you can follow links (like wikipedia), uniques_offset is less important, but for projects mostly used for fact checking (wiktionnary for instance), uniques_offset represents a very wider portion of the total uniques.</li>
<li>We also recommend to be very aware of the variability issues when looking at uniques per country (only for WMF employees, or people under NDA) as the variability per host per country is higher than variability per host.</li></ul>
<h4><span class="mw-headline" id="How_did_we_determined_this_1000_number_for_the_per-domain_uniques" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-How_did_we_determined_this_1000_number_for_the_per-domain_uniques-Unique_devices_per-domain&quot;,&quot;replies&quot;:[],&quot;headingLevel&quot;:4,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-How_did_we_determined_this_1000_number_for_the_per-domain_uniques-Unique_devices_per-domain"></span>How did we determined this 1000 number for the per-domain uniques<span data-mw-comment-end="h-How_did_we_determined_this_1000_number_for_the_per-domain_uniques-Unique_devices_per-domain"></span></span></h4>
<p>We ran an analysis on our daily dataset trying to measure randomness, taking into account the weekly rhythm of our traffic. We took 9 weeks of data, among which one week is taken as reference to compute variation of the eight other weeks day per day per domain. 
</p><p>Example: On Dec 23, a Friday  we compute for es.m.wikipedia how much the number of unique devices we have (say, a 100) differs from the number of unique devices on Friday on reference week (say, 110). If this difference is 10 our variation is 10% or 0.1.  Since we have 8 weeks of data plus one week of reference we have a series of 8 points per day of the week. Given this series we compute the standard deviations of all variations on the 8 week period per domain. Small standard deviations are good, as it means that variation is acceptable, standard deviations >1 mean that data varied more than 100%  from the reference week. We consider that too be too large and a sign that the data is too "noisy". 
</p><p>We also computed, for each project, the median value of unique devices over the 9 weeks of data.
</p><p>This data is plotted below, using log scales.
</p>
<figure class="mw-halign-center" typeof="mw:Image/Thumb"><a href="/wiki/File:Uniques_per_domain-variation_analysis.png" class="mw-file-description"><img alt="Uniques per domain-variation analysis.png" src="//upload.wikimedia.org/wikipedia/labs/9/98/Uniques_per_domain-variation_analysis.png" decoding="async" width="800" height="500" data-file-width="800" data-file-height="500"/></a><figcaption></figcaption></figure>
<p>In this chart the red line represents the mean of unique_devices estimate, projects are plotted from higher to lower, that is, the left side of screen has projects like es.wikipedia.org which have millions of users and a variation of less than 0.1 (10%). The right side of the graph plots projects with a small number of uniques, the blue line represents the variation and it can easily be seen how it is a lot higher for those projects, sometimes as high as 100% (a std deviation of 1 in this case).
</p>
<h3><span class="mw-headline" id="Unique_devices_per_project-family" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-Unique_devices_per_project-family-Data_Quality_Analysis&quot;,&quot;replies&quot;:[],&quot;headingLevel&quot;:3,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-Unique_devices_per_project-family-Data_Quality_Analysis"></span>Unique devices per project-family<span data-mw-comment-end="h-Unique_devices_per_project-family-Data_Quality_Analysis"></span></span></h3>
<p>Daily per-project-family unique devices (on *.wikimedia.org for instance) display less variation, in the plot below we can see that standard deviations are a lot lower. In the case of wikipedia.org domain the variability is about 2%. Now, these calculations aggregate results for  a project family (example: *.wikipedia.org). If you are splitting results further (per country, for example) you should take into account that variability will be higher.
</p>
<figure class="mw-halign-center" typeof="mw:Image/Thumb"><a href="/wiki/File:Uniques_project_wide-variation_analysis.png" class="mw-file-description"><img alt="Uniques project wide-variation analysis.png" src="//upload.wikimedia.org/wikipedia/labs/4/40/Uniques_project_wide-variation_analysis.png" decoding="async" width="800" height="500" data-file-width="800" data-file-height="500"/></a><figcaption></figcaption></figure>
<h3><span class="mw-headline" id="Numbers" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-Numbers-Data_Quality_Analysis&quot;,&quot;replies&quot;:[],&quot;headingLevel&quot;:3,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-Numbers-Data_Quality_Analysis"></span>Numbers<span data-mw-comment-end="h-Numbers-Data_Quality_Analysis"></span></span></h3>
<p>Variation calculations are done with data from March and April 2017, week of reference being from March 1st to March 7th. 
</p><p>Remember that the standard deviation is computed on a variation, meaning a value of 0.02 is actually a variation of 2% of the total number of uniques. 
</p>
<table class="wikitable sortable" style="text-align:right;">
<tbody><tr>
<th style="text-align:center;">Host
</th>
<th style="text-align:center;">Standard deviation
</th>
<th style="text-align:center;">Median
</th>
<th style="text-align:center;">Total uniques estimate
</th></tr>
<tr>
<td style="text-align:left;">wikipedia
</td>
<td>0.023682
</td>
<td>139541265.0
</td>
<td>6892468332
</td></tr>
<tr>
<td style="text-align:left;">wiktionary
</td>
<td>0.044993
</td>
<td>2065876.0
</td>
<td>101815953
</td></tr>
<tr>
<td style="text-align:left;">wikimedia
</td>
<td>0.511323
</td>
<td>737828.0
</td>
<td>37875366
</td></tr>
<tr>
<td style="text-align:left;">wikibooks
</td>
<td>0.059730
</td>
<td>486944.0
</td>
<td>23910646
</td></tr>
<tr>
<td style="text-align:left;">wikiquote
</td>
<td>0.064770
</td>
<td>371341.0
</td>
<td>18325283
</td></tr>
<tr>
<td style="text-align:left;">wikisource
</td>
<td>0.051465
</td>
<td>304530.5
</td>
<td>15110349
</td></tr>
<tr>
<td style="text-align:left;">wikiversity
</td>
<td>0.092480
</td>
<td>85188.0
</td>
<td>4190639
</td></tr>
<tr>
<td style="text-align:left;">wikidata
</td>
<td>0.051855
</td>
<td>67684.5
</td>
<td>3361208
</td></tr>
<tr>
<td style="text-align:left;">wikivoyage
</td>
<td>0.067449
</td>
<td>58717.0
</td>
<td>2926678
</td></tr>
<tr>
<td style="text-align:left;">wikimediafoundation
</td>
<td>0.145124
</td>
<td>40250.0
</td>
<td>2067248
</td></tr>
<tr>
<td style="text-align:left;">mediawiki
</td>
<td>0.115052
</td>
<td>28805.5
</td>
<td>1325261
</td></tr>
<tr>
<td style="text-align:left;">wikinews
</td>
<td>0.275252
</td>
<td>17114.0
</td>
<td>873688
</td></tr></tbody></table>
<h2><span class="mw-headline" id="More_docs" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-More_docs&quot;,&quot;replies&quot;:[],&quot;headingLevel&quot;:2,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-More_docs"></span>More docs<span data-mw-comment-end="h-More_docs"></span></span></h2>
<ul><li>15 min tech talk (minute 19th): <a rel="nofollow" class="external autonumber" href="https://www.youtube.com/watch?v=D3fyCgBWvFc#t=19m">[3]</a> and slides: <a class="external autonumber" href="https://commons.wikimedia.org/wiki/File:Unique_devices_lightning_talk.pdf">[4]</a></li>
<li>The actual queries used to calculate the daily and monthly numbers from the webrequest table:
<ul><li>per domain: <a rel="nofollow" class="external text" href="https://github.com/wikimedia/analytics-refinery/blob/master/oozie/unique_devices/per_domain/daily/unique_devices_per_domain_daily.hql">daily</a> / <a rel="nofollow" class="external text" href="https://github.com/wikimedia/analytics-refinery/blob/master/oozie/unique_devices/per_domain/monthly/unique_devices_per_domain_monthly.hql">monthly</a></li>
<li>per project family: <a rel="nofollow" class="external text" href="https://github.com/wikimedia/analytics-refinery/blob/master/oozie/unique_devices/per_project_family/daily/unique_devices_per_project_family_daily.hql">daily</a> / <a rel="nofollow" class="external text" href="https://github.com/wikimedia/analytics-refinery/blob/master/oozie/unique_devices/per_project_family/monthly/unique_devices_per_project_family_monthly.hql">monthly</a></li></ul></li>
<li><a rel="nofollow" class="external text" href="https://github.com/wikimedia/puppet/blob/production/modules/varnish/templates/analytics.inc.vcl.erb">Varnish VCL code for the WMF-Last-Access Cookie</a></li></ul>
<!-- 
NewPP limit report
Parsed by labweb1001
Cached time: 20220421033337
Cache expiry: 1814400
Reduced expiry: false
Complications: []
DiscussionTools time usage: 0.021 seconds
CPU time usage: 0.056 seconds
Real time usage: 0.061 seconds
Preprocessor visited node count: 66/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/100
Expensive parser function count: 0/500
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 0/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->

<!-- Saved in parser cache with key labswiki:pcache:idhash:20878-0!canonical and timestamp 20220421033337 and revision id 1872699. Serialized with JSON.
 -->
</div>
<div class="printfooter">Retrieved from "<a dir="ltr" href="https://wikitech.wikimedia.org/w/index.php?title=Analytics/Data_Lake/Traffic/Unique_Devices/Last_access_solution&amp;oldid=1872699">https://wikitech.wikimedia.org/w/index.php?title=Analytics/Data_Lake/Traffic/Unique_Devices/Last_access_solution&amp;oldid=1872699</a>"</div></div>
		<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>
	</div>
</div>

<div id="mw-navigation">
	<h2>Navigation menu</h2>
	<div id="mw-head">
		
<nav id="p-personal" class="mw-portlet mw-portlet-personal vector-user-menu-legacy vector-menu" aria-labelledby="p-personal-label" role="navigation" 
	 >
	<label id="p-personal-label" aria-label="" class="vector-menu-heading "  >
		<span class="vector-menu-heading-label">Personal tools</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="pt-uls" class="mw-list-item active"><a class="uls-trigger" href="#"><span>English</span></a></li><li id="pt-createaccount" class="mw-list-item"><a href="/w/index.php?title=Special:CreateAccount&amp;returnto=Analytics%2FData+Lake%2FTraffic%2FUnique+Devices%2FLast+access+solution" title="You are encouraged to create an account and log in; however, it is not mandatory"><span>Create account</span></a></li><li id="pt-login" class="mw-list-item"><a href="/w/index.php?title=Special:UserLogin&amp;returnto=Analytics%2FData+Lake%2FTraffic%2FUnique+Devices%2FLast+access+solution" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o"><span>Log in</span></a></li></ul>
		
	</div>
</nav>

		<div id="left-navigation">
			
<nav id="p-namespaces" class="mw-portlet mw-portlet-namespaces vector-menu vector-menu-tabs" aria-labelledby="p-namespaces-label" role="navigation" 
	 >
	<label id="p-namespaces-label" aria-label="" class="vector-menu-heading "  >
		<span class="vector-menu-heading-label">Namespaces</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="ca-nstab-main" class="selected mw-list-item"><a href="/wiki/Analytics/Data_Lake/Traffic/Unique_Devices/Last_access_solution" title="View the content page [c]" accesskey="c"><span>Page</span></a></li><li id="ca-talk" class="mw-list-item"><a href="/wiki/Talk:Analytics/Data_Lake/Traffic/Unique_Devices/Last_access_solution" rel="discussion" title="Discussion about the content page [t]" accesskey="t"><span>Discussion</span></a></li></ul>
		
	</div>
</nav>

			
<nav id="p-variants" class="mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown-noicon vector-menu vector-menu-dropdown" aria-labelledby="p-variants-label" role="navigation" 
	 >
	<input type="checkbox"
		id="p-variants-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-p-variants"
		class="vector-menu-checkbox" aria-labelledby="p-variants-label" />
	<label id="p-variants-label" aria-label="Change language variant" class="vector-menu-heading "  >
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</nav>

		</div>
		<div id="right-navigation">
			
<nav id="p-views" class="mw-portlet mw-portlet-views vector-menu vector-menu-tabs" aria-labelledby="p-views-label" role="navigation" 
	 >
	<label id="p-views-label" aria-label="" class="vector-menu-heading "  >
		<span class="vector-menu-heading-label">Views</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="ca-view" class="selected mw-list-item"><a href="/wiki/Analytics/Data_Lake/Traffic/Unique_Devices/Last_access_solution"><span>Read</span></a></li><li id="ca-viewsource" class="mw-list-item"><a href="/w/index.php?title=Analytics/Data_Lake/Traffic/Unique_Devices/Last_access_solution&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e"><span>View source</span></a></li><li id="ca-history" class="mw-list-item"><a href="/w/index.php?title=Analytics/Data_Lake/Traffic/Unique_Devices/Last_access_solution&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li></ul>
		
	</div>
</nav>

			
<nav id="p-cactions" class="mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown-noicon vector-menu vector-menu-dropdown" aria-labelledby="p-cactions-label" role="navigation"  title="More options"
	 >
	<input type="checkbox"
		id="p-cactions-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-p-cactions"
		class="vector-menu-checkbox" aria-labelledby="p-cactions-label" />
	<label id="p-cactions-label" aria-label="" class="vector-menu-heading "  >
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</nav>

			
<div id="p-search" role="search" class="vector-search-box-vue  vector-search-box-show-thumbnail vector-search-box-auto-expand-width vector-search-box">
	<div>
			<h3 >
				<label for="searchInput">Search</label>
			</h3>
		<form action="/w/index.php" id="searchform"
			class="vector-search-box-form">
			<div id="simpleSearch"
				class="vector-search-box-inner"
				 data-search-loc="header-navigation">
				<input class="vector-search-box-input"
					 type="search" name="search" placeholder="Search Wikitech" aria-label="Search Wikitech" autocapitalize="sentences" title="Search Wikitech [f]" accesskey="f" id="searchInput"
				/>
				<input type="hidden" name="title" value="Special:Search"/>
				<input id="mw-searchButton"
					 class="searchButton mw-fallbackSearchButton" type="submit" name="fulltext" title="Search the pages for this text" value="Search" />
				<input id="searchButton"
					 class="searchButton" type="submit" name="go" title="Go to a page with this exact name if it exists" value="Go" />
			</div>
		</form>
	</div>
</div>

		</div>
	</div>
	

<div id="mw-panel">
	<div id="p-logo" role="banner">
		<a class="mw-wiki-logo" href="/wiki/Main_Page"
			title="Visit the main page"></a>
	</div>
	
<nav id="p-navigation" class="mw-portlet mw-portlet-navigation vector-menu vector-menu-portal portal" aria-labelledby="p-navigation-label" role="navigation" 
	 >
	<label id="p-navigation-label" aria-label="" class="vector-menu-heading "  >
		<span class="vector-menu-heading-label">Navigation</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="n-mainpage-description" class="mw-list-item"><a href="/wiki/Main_Page" icon="home" title="Visit the main page [z]" accesskey="z"><span>Main page</span></a></li><li id="n-recentchanges" class="mw-list-item"><a href="/wiki/Special:RecentChanges" icon="recentChanges" title="A list of recent changes in the wiki [r]" accesskey="r"><span>Recent changes</span></a></li><li id="n-Server-admin-log:-Prod" class="mw-list-item"><a href="/wiki/Server_Admin_Log"><span>Server admin log: Prod</span></a></li><li id="n-Admin-log:-RelEng" class="mw-list-item"><a href="/wiki/Release_Engineering/SAL"><span>Admin log: RelEng</span></a></li><li id="n-Incident-status" class="mw-list-item"><a href="/wiki/Incident_status"><span>Incident status</span></a></li><li id="n-Deployments" class="mw-list-item"><a href="/wiki/Deployments"><span>Deployments</span></a></li><li id="n-SRE/Operations-Help" class="mw-list-item"><a href="/wiki/SRE_Team_requests"><span>SRE/Operations Help</span></a></li></ul>
		
	</div>
</nav>

	
<nav id="p-Cloud_VPS_&amp;_Toolforge" class="mw-portlet mw-portlet-Cloud_VPS_Toolforge vector-menu vector-menu-portal portal" aria-labelledby="p-Cloud_VPS_&amp;_Toolforge-label" role="navigation" 
	 >
	<label id="p-Cloud_VPS_&amp;_Toolforge-label" aria-label="" class="vector-menu-heading "  >
		<span class="vector-menu-heading-label">Cloud VPS &amp; Toolforge</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="n-Cloud-VPS-portal" class="mw-list-item"><a href="/wiki/Portal:Cloud_VPS"><span>Cloud VPS portal</span></a></li><li id="n-Toolforge-portal" class="mw-list-item"><a href="/wiki/Portal:Toolforge"><span>Toolforge portal</span></a></li><li id="n-Request-VPS-project" class="mw-list-item"><a href="https://phabricator.wikimedia.org/project/view/2875/"><span>Request VPS project</span></a></li><li id="n-Admin-log:-Cloud-VPS" class="mw-list-item"><a href="/wiki/Cloud_VPS_Server_Admin_Log"><span>Admin log: Cloud VPS</span></a></li></ul>
		
	</div>
</nav>

<nav id="p-tb" class="mw-portlet mw-portlet-tb vector-menu vector-menu-portal portal" aria-labelledby="p-tb-label" role="navigation" 
	 >
	<label id="p-tb-label" aria-label="" class="vector-menu-heading "  >
		<span class="vector-menu-heading-label">Tools</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="t-whatlinkshere" class="mw-list-item"><a href="/wiki/Special:WhatLinksHere/Analytics/Data_Lake/Traffic/Unique_Devices/Last_access_solution" title="A list of all wiki pages that link here [j]" accesskey="j"><span>What links here</span></a></li><li id="t-recentchangeslinked" class="mw-list-item"><a href="/wiki/Special:RecentChangesLinked/Analytics/Data_Lake/Traffic/Unique_Devices/Last_access_solution" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k"><span>Related changes</span></a></li><li id="t-specialpages" class="mw-list-item"><a href="/wiki/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q"><span>Special pages</span></a></li><li id="t-permalink" class="mw-list-item"><a href="/w/index.php?title=Analytics/Data_Lake/Traffic/Unique_Devices/Last_access_solution&amp;oldid=1872699" title="Permanent link to this revision of the page"><span>Permanent link</span></a></li><li id="t-info" class="mw-list-item"><a href="/w/index.php?title=Analytics/Data_Lake/Traffic/Unique_Devices/Last_access_solution&amp;action=info" title="More information about this page"><span>Page information</span></a></li><li id="t-cite" class="mw-list-item"><a href="/w/index.php?title=Special:CiteThisPage&amp;page=Analytics%2FData_Lake%2FTraffic%2FUnique_Devices%2FLast_access_solution&amp;id=1872699&amp;wpFormIdentifier=titleform" title="Information on how to cite this page"><span>Cite this page</span></a></li></ul>
		
	</div>
</nav>

<nav id="p-coll-print_export" class="mw-portlet mw-portlet-coll-print_export vector-menu vector-menu-portal portal" aria-labelledby="p-coll-print_export-label" role="navigation" 
	 >
	<label id="p-coll-print_export-label" aria-label="" class="vector-menu-heading "  >
		<span class="vector-menu-heading-label">Print/export</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="coll-create_a_book" class="mw-list-item"><a href="/w/index.php?title=Special:Book&amp;bookcmd=book_creator&amp;referer=Analytics%2FData+Lake%2FTraffic%2FUnique+Devices%2FLast+access+solution"><span>Create a book</span></a></li><li id="coll-download-as-rl" class="mw-list-item"><a href="/w/index.php?title=Special:DownloadAsPdf&amp;page=Analytics%2FData_Lake%2FTraffic%2FUnique_Devices%2FLast_access_solution&amp;action=show-download-screen"><span>Download as PDF</span></a></li><li id="t-print" class="mw-list-item"><a href="/w/index.php?title=Analytics/Data_Lake/Traffic/Unique_Devices/Last_access_solution&amp;printable=yes" title="Printable version of this page [p]" accesskey="p"><span>Printable version</span></a></li></ul>
		
	</div>
</nav>

	
</div>

</div>

<footer id="footer" class="mw-footer" role="contentinfo" >
	<ul id="footer-info">
	<li id="footer-info-lastmod"> This page was last edited on 7 July 2020, at 19:04.</li>
	<li id="footer-info-copyright">Text is available under the <a href="https://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike License</a>;
additional terms may apply.
See <a href="https://foundation.wikimedia.org/wiki/Terms_of_Use">Terms of Use</a> for details.</li>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://foundation.wikimedia.org/wiki/Privacy_policy" class="extiw" title="wmf:Privacy policy">Privacy policy</a></li>
	<li id="footer-places-about"><a href="/wiki/Main_Page" title="Main Page">About Wikitech</a></li>
	<li id="footer-places-disclaimer"><a href="https://foundation.wikimedia.org/wiki/General_disclaimer" class="extiw" title="wikimedia:General disclaimer">Disclaimers</a></li>
	<li id="footer-places-wm-codeofconduct"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Code_of_Conduct">Code of Conduct</a></li>
	<li id="footer-places-mobileview"><a href="//wikitech.wikimedia.org/w/index.php?title=Analytics/Data_Lake/Traffic/Unique_Devices/Last_access_solution&amp;mobileaction=toggle_view_mobile" class="noprint stopMobileRedirectToggle">Mobile view</a></li>
	<li id="footer-places-developers"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/How_to_contribute">Developers</a></li>
	<li id="footer-places-statslink"><a href="https://stats.wikimedia.org/#/wikitech.wikimedia.org">Statistics</a></li>
	<li id="footer-places-cookiestatement"><a href="https://foundation.wikimedia.org/wiki/Cookie_statement">Cookie statement</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://wikimediafoundation.org/"><img src="/static/images/footer/wikimedia-button.png" srcset="/static/images/footer/wikimedia-button-1.5x.png 1.5x, /static/images/footer/wikimedia-button-2x.png 2x" width="88" height="31" alt="Wikimedia Foundation" loading="lazy" /></a></li>
	<li id="footer-poweredbyico"><a href="https://www.mediawiki.org/"><img src="/static/images/footer/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/static/images/footer/poweredby_mediawiki_132x47.png 1.5x, /static/images/footer/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"/></a></li>
</ul>

</footer>

<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"discussiontools":{"limitreport-timeusage":"0.021"},"limitreport":{"cputime":"0.056","walltime":"0.061","ppvisitednodes":{"value":66,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":100},"expensivefunctioncount":{"value":0,"limit":500},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":0,"limit":5000000},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"origin":"labweb1001","timestamp":"20220421033337","ttl":1814400,"transientcontent":false}}});mw.config.set({"wgBackendResponseTime":137,"wgHostname":"labweb1001"});});</script>
</body>
</html>