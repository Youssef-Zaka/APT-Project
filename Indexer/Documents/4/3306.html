<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>News/Toolforge Stretch deprecation - Wikitech</title>
<script>document.documentElement.className="client-js";RLCONF={"wgBreakFrames":false,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgRequestId":"3ab27161-883d-448e-a983-8828b88fe3a1","wgCSPNonce":false,"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"News/Toolforge_Stretch_deprecation","wgTitle":"News/Toolforge Stretch deprecation","wgCurRevisionId":1978598,"wgRevisionId":1978598,"wgArticleId":447644,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Documentation"],"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgRelevantPageName":"News/Toolforge_Stretch_deprecation","wgRelevantArticleId":447644,"wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],
"wgRestrictionMove":[],"wgVisualEditor":{"pageLanguageCode":"en","pageLanguageDir":"ltr","pageVariantFallbacks":"en"},"wgMFDisplayWikibaseDescriptions":{"search":true,"nearby":true,"watchlist":true,"tagline":false},"wgWMESchemaEditAttemptStepOversample":false,"wgWMEPageLength":20000,"wgMediaViewerOnClick":true,"wgMediaViewerEnabledByDefault":true,"wgULSCurrentAutonym":"English","wgEditSubmitButtonLabelPublish":true,"wgDiscussionToolsFeaturesEnabled":{"replytool":true,"newtopictool":false,"sourcemodetoolbar":true,"topicsubscription":false,"autotopicsub":false},"wgDiscussionToolsFallbackEditMode":"visual","wgULSPosition":"personal","wgULSisCompactLinksEnabled":true,"wgSiteNoticeId":"2.0"};RLSTATE={"ext.gadget.enwp-boxes":"ready","site.styles":"ready","user.styles":"ready","user":"ready","user.options":"loading","ext.pygments":"ready","ext.discussionTools.init.styles":"ready","skins.vector.styles.legacy":"ready","jquery.tablesorter.styles":"ready",
"ext.visualEditor.desktopArticleTarget.noscript":"ready","ext.uls.pt":"ready","ext.dismissableSiteNotice.styles":"ready"};RLPAGEMODULES=["site","mediawiki.page.ready","jquery.tablesorter","mediawiki.toc","skins.vector.legacy.js","mmv.head","mmv.bootstrap.autostart","ext.visualEditor.desktopArticleTarget.init","ext.visualEditor.targetLoader","ext.eventLogging","ext.wikimediaEvents","ext.gadget.site","ext.discussionTools.init","ext.uls.compactlinks","ext.uls.interface","ext.dismissableSiteNotice"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.implement("user.options@1i9g4",function($,jQuery,require,module){mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});});});</script>
<link rel="stylesheet" href="/w/load.php?lang=en&amp;modules=ext.discussionTools.init.styles%7Cext.dismissableSiteNotice.styles%7Cext.pygments%7Cext.uls.pt%7Cext.visualEditor.desktopArticleTarget.noscript%7Cjquery.tablesorter.styles%7Cskins.vector.styles.legacy&amp;only=styles&amp;skin=vector"/>
<script async="" src="/w/load.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="/w/load.php?lang=en&amp;modules=ext.gadget.enwp-boxes&amp;only=styles&amp;skin=vector"/>
<link rel="stylesheet" href="/w/load.php?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.39.0-wmf.10"/>
<meta name="referrer" content="origin"/>
<meta name="referrer" content="origin-when-crossorigin"/>
<meta name="referrer" content="origin-when-cross-origin"/>
<meta name="format-detection" content="telephone=no"/>
<meta property="og:title" content="News/Toolforge Stretch deprecation - Wikitech"/>
<meta property="og:type" content="website"/>
<link rel="preconnect" href="//upload.wikimedia.org"/>
<link rel="shortcut icon" href="/static/favicon/wikitech.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="Wikitech (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="//wikitech.wikimedia.org/w/api.php?action=rsd"/>
<link rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/"/>
<link rel="canonical" href="https://wikitech.wikimedia.org/wiki/News/Toolforge_Stretch_deprecation"/>
</head>
<body class="ext-discussiontools-replytool-enabled ext-discussiontools-sourcemodetoolbar-enabled mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-News_Toolforge_Stretch_deprecation rootpage-News skin-vector action-view skin-vector-legacy"><div id="mw-page-base" class="noprint"></div>
<div id="mw-head-base" class="noprint"></div>
<div id="content" class="mw-body" role="main">
	<a id="top"></a>
	<div id="siteNotice"><div id="mw-dismissablenotice-anonplace"></div><script>(function(){var node=document.getElementById("mw-dismissablenotice-anonplace");if(node){node.outerHTML="\u003Cdiv class=\"mw-dismissable-notice\"\u003E\u003Cdiv class=\"mw-dismissable-notice-close\"\u003E[\u003Ca tabindex=\"0\" role=\"button\"\u003Edismiss\u003C/a\u003E]\u003C/div\u003E\u003Cdiv class=\"mw-dismissable-notice-body\"\u003E\u003Cdiv id=\"localNotice\"\u003E\u003Cdiv class=\"sitenotice\" lang=\"en\" dir=\"ltr\"\u003E\u003Cdiv class=\"center\"\u003E\u003Ca href=\"https://www.mediawiki.org/wiki/Wikimedia_Hackathon_2022\" class=\"extiw\" title=\"mw:Wikimedia Hackathon 2022\"\u003EWikimedia Hackathon 2022\u003C/a\u003E will be held \u003Ci\u003Eonline\u003C/i\u003E May 20-22, 2022.\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E";}}());</script></div>
	<div class="mw-indicators">
	</div>
	<h1 id="firstHeading" class="firstHeading mw-first-heading">News/Toolforge Stretch deprecation</h1>
	<div id="bodyContent" class="vector-body">
		<div id="siteSub" class="noprint">From Wikitech</div>
		<div id="contentSub"><span class="subpages">&lt; <a href="/wiki/News" title="News">News</a></span></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr"><div class="mw-parser-output"><p>This page details information about deprecating and removing hosts running <b>Debian Stretch</b> (9.x) as an operating system from the <a href="/wiki/Help:Toolforge" title="Help:Toolforge">Toolforge</a> infrastructure. The login bastions and <a href="/wiki/Help:Toolforge/Grid" title="Help:Toolforge/Grid">Grid</a> execution hosts are still running Stretch and must be replaced with new instances.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none" /><div class="toctitle" lang="en" dir="ltr"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#What_is_changing?"><span class="tocnumber">1</span> <span class="toctext">What is changing?</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Timeline"><span class="tocnumber">2</span> <span class="toctext">Timeline</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#What_should_I_do?"><span class="tocnumber">3</span> <span class="toctext">What should I do?</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#SSH_to_the_bastions"><span class="tocnumber">3.1</span> <span class="toctext">SSH to the bastions</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Move_from_Grid_Engine_to_Kubernetes"><span class="tocnumber">3.2</span> <span class="toctext">Move from Grid Engine to Kubernetes</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Move_a_grid_engine_webservice"><span class="tocnumber">3.3</span> <span class="toctext">Move a grid engine webservice</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Move_a_continuous_job"><span class="tocnumber">3.4</span> <span class="toctext">Move a continuous job</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Move_a_cron_job"><span class="tocnumber">3.5</span> <span class="toctext">Move a cron job</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href="#What_are_the_primary_changes_with_moving_to_Buster?"><span class="tocnumber">4</span> <span class="toctext">What are the primary changes with moving to Buster?</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="#Language_runtime_and_library_versions"><span class="tocnumber">4.1</span> <span class="toctext">Language runtime and library versions</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-11"><a href="#Solutions_to_common_problems"><span class="tocnumber">5</span> <span class="toctext">Solutions to common problems</span></a>
<ul>
<li class="toclevel-2 tocsection-12"><a href="#Executable_paths_with_jsub"><span class="tocnumber">5.1</span> <span class="toctext">Executable paths with jsub</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Rebuild_virtualenv_for_python_users"><span class="tocnumber">5.2</span> <span class="toctext">Rebuild virtualenv for python users</span></a>
<ul>
<li class="toclevel-3 tocsection-14"><a href="#Example_1:_Upgrading_a_Stretch_grid_engine_based_tool_to_the_Buster_grid"><span class="tocnumber">5.2.1</span> <span class="toctext">Example 1: Upgrading a Stretch grid engine based tool to the Buster grid</span></a></li>
<li class="toclevel-3 tocsection-15"><a href="#Example_2:_Upgrading_a_uWSGI_webservice_into_a_Kubernetes_container"><span class="tocnumber">5.2.2</span> <span class="toctext">Example 2: Upgrading a uWSGI webservice into a Kubernetes container</span></a></li>
<li class="toclevel-3 tocsection-16"><a href="#Example_3:_Upgrading_a_Kubernetes_uWSGI_webservice"><span class="tocnumber">5.2.3</span> <span class="toctext">Example 3: Upgrading a Kubernetes uWSGI webservice</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-17"><a href="#Delete_a_tool"><span class="tocnumber">5.3</span> <span class="toctext">Delete a tool</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#SSH_to_login-buster.toolforge.org_fails_with_&#39;Permission_denied_(publickey)&#39;"><span class="tocnumber">5.4</span> <span class="toctext">SSH to login-buster.toolforge.org fails with 'Permission denied (publickey)'</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#SSH_to_login-buster.toolforge.org_fails_with_&#39;Permission_denied_(publickey,hostbased)&#39;"><span class="tocnumber">5.5</span> <span class="toctext">SSH to login-buster.toolforge.org fails with 'Permission denied (publickey,hostbased)'</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#How_to_determine_where_your_job_is_running"><span class="tocnumber">5.6</span> <span class="toctext">How to determine where your job is running</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-21"><a href="#Monitoring_tools"><span class="tocnumber">6</span> <span class="toctext">Monitoring tools</span></a></li>
<li class="toclevel-1 tocsection-22"><a href="#Why_are_we_doing_this?"><span class="tocnumber">7</span> <span class="toctext">Why are we doing this?</span></a></li>
<li class="toclevel-1 tocsection-23"><a href="#See_also"><span class="tocnumber">8</span> <span class="toctext">See also</span></a></li>
<li class="toclevel-1"><a href="#Communication_and_support"><span class="tocnumber">9</span> <span class="toctext">Communication and support</span></a></li>
</ul>
</div>

<h2><span id="What_is_changing.3F"></span><span class="mw-headline" id="What_is_changing?" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-What_is_changing?&quot;,&quot;replies&quot;:[],&quot;headingLevel&quot;:2,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-What_is_changing?"></span>What is changing?<span data-mw-comment-end="h-What_is_changing?"></span></span></h2>
<ul><li>New bastion hosts running Debian Buster with connectivity to the new job grid</li>
<li>New versions of PHP, Python3, and other language runtimes</li>
<li>New versions of various support libraries</li></ul>
<p>We are introducing a configuration option to let you select which operating system (Debian Stretch or Debian Buster) you want for your grid-based tool. That way, you can try out the migration from Stretch to Buster at your convenience.
</p>
<h2><span class="mw-headline" id="Timeline" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-Timeline&quot;,&quot;replies&quot;:[],&quot;headingLevel&quot;:2,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-Timeline"></span>Timeline<span data-mw-comment-end="h-Timeline"></span></span></h2>
<ul><li>2022-02-15: <span typeof="mw:Image"><span><img alt="Yes" src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/f6/OOjs_UI_icon_check-constructive.svg/20px-OOjs_UI_icon_check-constructive.svg.png" decoding="async" width="20" height="20" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/f/f6/OOjs_UI_icon_check-constructive.svg/30px-OOjs_UI_icon_check-constructive.svg.png 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/f/f6/OOjs_UI_icon_check-constructive.svg/40px-OOjs_UI_icon_check-constructive.svg.png 2x" data-file-width="20" data-file-height="20"/></span></span> <b>Done</b> <a class="external text" href="https://lists.wikimedia.org/hyperkitty/list/cloud-announce@lists.wikimedia.org/thread/EPJFISC52T7OOEFH5YYMZNL57O4VGSPR/">(email)</a> Availability of Debian Buster grid announced to community</li>
<li>2022-03-21: Reminders via email to tool maintainers for tools still running on Stretch <span typeof="mw:Image"><span><img alt="Yes" src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/f6/OOjs_UI_icon_check-constructive.svg/20px-OOjs_UI_icon_check-constructive.svg.png" decoding="async" width="20" height="20" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/f/f6/OOjs_UI_icon_check-constructive.svg/30px-OOjs_UI_icon_check-constructive.svg.png 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/f/f6/OOjs_UI_icon_check-constructive.svg/40px-OOjs_UI_icon_check-constructive.svg.png 2x" data-file-width="20" data-file-height="20"/></span></span> <b>Done</b></li>
<li>Week of 2022-04-21:
<ul><li>Daily reminders via email to tool maintainers for tools still running on Stretch <span typeof="mw:Image"><span><img alt="Yes" src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/f6/OOjs_UI_icon_check-constructive.svg/20px-OOjs_UI_icon_check-constructive.svg.png" decoding="async" width="20" height="20" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/f/f6/OOjs_UI_icon_check-constructive.svg/30px-OOjs_UI_icon_check-constructive.svg.png 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/f/f6/OOjs_UI_icon_check-constructive.svg/40px-OOjs_UI_icon_check-constructive.svg.png 2x" data-file-width="20" data-file-height="20"/></span></span> <b>Done</b></li>
<li>Switch <i>login.toolforge.org</i> to point to Buster bastion <span typeof="mw:Image"><span><img alt="Yes" src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/f6/OOjs_UI_icon_check-constructive.svg/20px-OOjs_UI_icon_check-constructive.svg.png" decoding="async" width="20" height="20" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/f/f6/OOjs_UI_icon_check-constructive.svg/30px-OOjs_UI_icon_check-constructive.svg.png 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/f/f6/OOjs_UI_icon_check-constructive.svg/40px-OOjs_UI_icon_check-constructive.svg.png 2x" data-file-width="20" data-file-height="20"/></span></span> <b>Done</b></li></ul></li>
<li>Week of 2022-05-02: Evaluate migration status and formulate plan for final shutdown of Stretch grid</li>
<li>Week of 2022-05-21: Shutdown Stretch grid</li></ul>
<h2><span id="What_should_I_do.3F"></span><span class="mw-headline" id="What_should_I_do?" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-What_should_I_do?&quot;,&quot;replies&quot;:[&quot;h-SSH_to_the_bastions-What_should_I_do?&quot;,&quot;h-Move_from_Grid_Engine_to_Kubernetes-What_should_I_do?&quot;,&quot;h-Move_a_grid_engine_webservice-What_should_I_do?&quot;,&quot;h-Move_a_continuous_job-What_should_I_do?&quot;,&quot;h-Move_a_cron_job-What_should_I_do?&quot;],&quot;headingLevel&quot;:2,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-What_should_I_do?"></span>What should I do?<span data-mw-comment-end="h-What_should_I_do?"></span></span></h2>
<p>You should migrate your Toolforge tool to a newer environment. 
You have two options:
</p>
<ul><li>migrate from Toolforge Stretch Grid Engine to Toolforge <a href="/wiki/Help:Toolforge/Jobs_framework" title="Help:Toolforge/Jobs framework">Kubernetes</a>.</li>
<li>migrate from Toolforge Stretch Grid Engine to Toolforge Buster Grid Engine.</li></ul>
<h3><span class="mw-headline" id="SSH_to_the_bastions" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-SSH_to_the_bastions-What_should_I_do?&quot;,&quot;replies&quot;:[],&quot;headingLevel&quot;:3,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-SSH_to_the_bastions-What_should_I_do?"></span>SSH to the bastions<span data-mw-comment-end="h-SSH_to_the_bastions-What_should_I_do?"></span></span></h3>
<p>During the compatibility period, there are 2 sets of bastions available:
</p>
<ul><li><code>login.toolforge.org</code>: points to the old Debian Stretch bastion</li>
<li><code>dev.toolforge.org</code>: points to the old Debian Stretch development bastion</li>
<li><code>login-buster.toolforge.org</code>: points to the new Debian Buster bastion</li>
<li><code>dev-buster.toolforge.org</code>: points to the new Debian Buster development bastion</li></ul>
<p>When the time arrives, the old Stretch bastion will stop working, and both <code>login.toolforge.org</code> and <code>dev.toolforge.org</code> will point to Buster bastions.
</p>
<h3><span class="mw-headline" id="Move_from_Grid_Engine_to_Kubernetes" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-Move_from_Grid_Engine_to_Kubernetes-What_should_I_do?&quot;,&quot;replies&quot;:[],&quot;headingLevel&quot;:3,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-Move_from_Grid_Engine_to_Kubernetes-What_should_I_do?"></span>Move from Grid Engine to Kubernetes<span data-mw-comment-end="h-Move_from_Grid_Engine_to_Kubernetes-What_should_I_do?"></span></span></h3>
<p>Our recommendation is that you move all your tools from the Grid Engine backend into Kubernetes.
</p><p>If your tool consists of one or more jobs, there may be direct equivalences between the commands. Check the dedicated documents: <a href="/wiki/Help:Toolforge/Jobs_framework#Grid_Engine_migration" title="Help:Toolforge/Jobs framework">Help:Toolforge/Jobs_framework#Grid_Engine_migration</a>.
</p><p>If your tool consists of a webservice, <a href="/wiki/Help:Toolforge/Web#Switching_between_Kubernetes_and_Grid_Engine" title="Help:Toolforge/Web"> check here instead</a>.
</p>
<h3><span class="mw-headline" id="Move_a_grid_engine_webservice" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-Move_a_grid_engine_webservice-What_should_I_do?&quot;,&quot;replies&quot;:[],&quot;headingLevel&quot;:3,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-Move_a_grid_engine_webservice-What_should_I_do?"></span><span id="Move_a_webservice"></span> Move a grid engine webservice<span data-mw-comment-end="h-Move_a_grid_engine_webservice-What_should_I_do?"></span></span></h3>
<p>We strongly encourage you to migrate web services to <a href="/wiki/Help:Toolforge/Kubernetes" title="Help:Toolforge/Kubernetes">Kubernetes</a> instead of using the grid.
</p><p>If you have strong reasons to keep using the grid for webservices, then try the <code>--release <var>{buster|stretch}</var></code> parameter:
</p>
<div class="mw-highlight mw-highlight-lang-shell-session mw-content-ltr" dir="ltr"><pre><span></span><span class="go">:# Connect to the Buster bastion</span>
<span class="gp">$ </span>ssh &lt;your-shell-name>@login-buster.toolforge.org

<span class="go">:# Become your tool account</span>
<span class="gp">$ </span>become YOUR_TOOL

<span class="go">:# stop the webservice</span>
<span class="gp">$ </span>webservice stop

<span class="go">:# Start the webservice as a Kubernetes container rather than a grid job</span>
<span class="go">:# &lt;type> is one of: php7.2, php5.6, python, python2, nodejs, golang, jdk8, ruby2, tcl</span>
<span class="gp">$ </span>webservice --backend<span class="o">=</span>kubernetes &lt;type> start
<span class="go">:# -- OR --</span>
<span class="go">:# Start the webservice as a Buster grid job</span>
<span class="go">:# &lt;type> is one of: lighttpd, uwsgi-python, tomcat, generic, lighttpd-plain, nodejs, uwsgi-plain</span>
<span class="gp">$ </span>webservice --backend<span class="o">=</span>gridengine --release buster &lt;type> start
</pre></div>
<p>See <a href="/wiki/Help:Toolforge/Web#Choosing_a_backend" title="Help:Toolforge/Web">Help:Toolforge/Web#Choosing_a_backend</a> for more information on migrating from grid engine to Kubernetes.
</p>
<style data-mw-deduplicate="TemplateStyles:r1938107">.mw-parser-output table.ambox{margin:0 10%;border:1px solid #a2a9b1;border-left:10px solid #36c;background-color:#fbfbfb;box-sizing:border-box}.mw-parser-output table.ambox+table.ambox,.mw-parser-output table.ambox+link+table.ambox,.mw-parser-output table.ambox+style+table.ambox{margin-top:-1px}.mw-parser-output .ambox td.mbox-empty-cell{border:none;padding:0;width:1px}.mw-parser-output .ambox th.mbox-text,.mw-parser-output .ambox td.mbox-text{border:none;padding:0.25em 0.5em;width:100%}.mw-parser-output .ambox td.mbox-image{padding:2px 0 2px 0.5em}.mw-parser-output .ambox td.mbox-imageright{padding:2px 0.5em 2px 0}.mw-parser-output table.ambox-notice{border-left-color:#36c}.mw-parser-output table.ambox-speedy{background-color:#fee7e6}.mw-parser-output table.ambox-delete,.mw-parser-output table.ambox-speedy{border-left-color:#b32424}.mw-parser-output table.ambox-content{border-left-color:#f28500}.mw-parser-output table.ambox-style{border-left-color:#fc3}.mw-parser-output table.ambox-move{border-left-color:#9932cc}.mw-parser-output table.ambox-protection{border-left-color:#a2a9b1}html body.mediawiki .mw-parser-output .ambox.mbox-small{clear:right;float:right;margin:4px 0 4px 1em;box-sizing:border-box;width:238px;font-size:88%;line-height:1.25em}html body.mediawiki .mw-parser-output .ambox.mbox-small-left{margin:4px 1em 4px 0;box-sizing:border-box;overflow:hidden;width:238px;border-collapse:collapse;font-size:88%;line-height:1.25em}</style><table class="plainlinks metadata plainlinks ambox ambox-notice" role="presentation"><tbody><tr><td class="mbox-image"><div style="width:52px"><span typeof="mw:Image"><span><img alt="" src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/ec/OOjs_UI_icon_information-progressive.svg/40px-OOjs_UI_icon_information-progressive.svg.png" decoding="async" width="40" height="40" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/e/ec/OOjs_UI_icon_information-progressive.svg/60px-OOjs_UI_icon_information-progressive.svg.png 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/e/ec/OOjs_UI_icon_information-progressive.svg/80px-OOjs_UI_icon_information-progressive.svg.png 2x" data-file-width="20" data-file-height="20"/></span></span></div></td><td class="mbox-text"><div class="mbox-text-span">Python2 and Python3 webservices will need to <a href="#Rebuild_virtualenv_for_python_users">rebuild their virtualenv environments</a> on the new target runtime (Buster grid or Kubernetes).</div></td></tr></tbody></table>
<link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1938107"/><table class="plainlinks metadata plainlinks ambox ambox-notice" role="presentation"><tbody><tr><td class="mbox-image"><div style="width:52px"><span typeof="mw:Image"><span><img alt="" src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/ec/OOjs_UI_icon_information-progressive.svg/40px-OOjs_UI_icon_information-progressive.svg.png" decoding="async" width="40" height="40" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/e/ec/OOjs_UI_icon_information-progressive.svg/60px-OOjs_UI_icon_information-progressive.svg.png 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/e/ec/OOjs_UI_icon_information-progressive.svg/80px-OOjs_UI_icon_information-progressive.svg.png 2x" data-file-width="20" data-file-height="20"/></span></span></div></td><td class="mbox-text"><div class="mbox-text-span">NodeJS webservices will need to rebuild their $HOME/www/js/node_modules on the new target runtime (Buster grid or Kubernetes).</div></td></tr></tbody></table>
<h3><span class="mw-headline" id="Move_a_continuous_job" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-Move_a_continuous_job-What_should_I_do?&quot;,&quot;replies&quot;:[],&quot;headingLevel&quot;:3,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-Move_a_continuous_job-What_should_I_do?"></span>Move a continuous job<span data-mw-comment-end="h-Move_a_continuous_job-What_should_I_do?"></span></span></h3>
<p>Try first migrating from Grid Engine to the <a href="/wiki/Help:Toolforge/Jobs_framework" title="Help:Toolforge/Jobs framework"> new Toolforge jobs framework on Kubernetes</a>.
If you cannot move today, we would be interested to learn what prevents you from doing so.
</p><p>If you decide to keep using the grid, simply run:
</p>
<div class="mw-highlight mw-highlight-lang-shell-session mw-content-ltr" dir="ltr"><pre><span></span><span class="go">:# Connect to the Stretch bastion</span>
<span class="gp">$ </span>ssh &lt;your-shell-name>@login-buster.toolforge.org
<span class="go">:# Become your tool account</span>
<span class="gp">$ </span>become YOUR_TOOL

<span class="go">:# Start your job on the Buster job grid(note: this is a specific example for a php job that checks for a quota).</span>
<span class="gp">$ </span>jstart -release buster -mem 350m php check_my_quota.php
</pre></div>
<p>The exact commands needed to start each continuous job vary greatly from tool to tool. This would be a great time to make a page of reference material for yourself and other maintainers here on Wikitech in the <kbd><span class="plainlinks"><a class="external text" href="https://wikitech.wikimedia.org/wiki/Special:Prefixindex?namespace=116">Tool</a></span></kbd> namespace and using the <a href="/wiki/Template:Tool" title="Template:Tool">Tool template</a> if you haven't already.
</p>
<h3><span class="mw-headline" id="Move_a_cron_job" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-Move_a_cron_job-What_should_I_do?&quot;,&quot;replies&quot;:[],&quot;headingLevel&quot;:3,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-Move_a_cron_job-What_should_I_do?"></span>Move a cron job<span data-mw-comment-end="h-Move_a_cron_job-What_should_I_do?"></span></span></h3>
<p>Try first migrating from Grid Engine to the <a href="/wiki/Help:Toolforge/Jobs_framework" title="Help:Toolforge/Jobs framework"> new Toolforge jobs framework on Kubernetes</a>.
If you cannot move today, we would be interested to learn what prevents you from doing so.
</p><p>If you decide to keep using the grid, to migrate your cron job provide a <code>-release buster</code> jsub argument when creating them with the <code>crontab</code> command.
</p><p>The grid cron job server is Debian Stretch and will remain that way until the end of the migration, meaning that if you don't specify a <code>-release buster</code> option, the default (stretch) will be used.
</p><p>See <a href="#Executable_paths_with_jsub"> Executable paths with jsub</a> for other potential problems with cron jobs.
</p><p>If your workload permits, please avoid scheduling cronjobs from midnight to 3am so you're not competing with other cronjobs for system resources. That time window is currently very crowded.
</p>
<h2><span id="What_are_the_primary_changes_with_moving_to_Buster.3F"></span><span class="mw-headline" id="What_are_the_primary_changes_with_moving_to_Buster?" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-What_are_the_primary_changes_with_moving_to_Buster?&quot;,&quot;replies&quot;:[&quot;h-Language_runtime_and_library_versions-What_are_the_primary_changes_with_moving_to_Buster?&quot;],&quot;headingLevel&quot;:2,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-What_are_the_primary_changes_with_moving_to_Buster?"></span>What are the primary changes with moving to Buster?<span data-mw-comment-end="h-What_are_the_primary_changes_with_moving_to_Buster?"></span></span></h2>
<h3><span class="mw-headline" id="Language_runtime_and_library_versions" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-Language_runtime_and_library_versions-What_are_the_primary_changes_with_moving_to_Buster?&quot;,&quot;replies&quot;:[],&quot;headingLevel&quot;:3,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-Language_runtime_and_library_versions-What_are_the_primary_changes_with_moving_to_Buster?"></span>Language runtime and library versions<span data-mw-comment-end="h-Language_runtime_and_library_versions-What_are_the_primary_changes_with_moving_to_Buster?"></span></span></h3>
<p>The vast majority of the language runtimes and libraries installed on the grid nodes are upgraded in BUSTER.
</p>
<table class="wikitable sortable">
<tbody><tr>
<th><b>Runtime</b>
</th>
<th><b>Stretch Version</b>
</th>
<th><b>Buster Version</b>
</th></tr>
<tr>
<td>Python3
</td>
<td>3.5.3
</td>
<td>3.7.3
</td></tr>
<tr>
<td>PHP
</td>
<td>7.2
</td>
<td>7.3
</td></tr>
<tr>
<td>Python2
</td>
<td>2.7.13
</td>
<td>2.7.16
</td></tr>
<tr>
<td>NodeJS
</td>
<td>8.11.1
</td>
<td>10.24.0
</td></tr>
<tr>
<td>Perl
</td>
<td>5.24
</td>
<td>5.28
</td></tr>
<tr>
<td>Java
</td>
<td>11.0.6
</td>
<td>11.0.9
</td></tr>
<tr>
<td>Ruby
</td>
<td>2.3.3
</td>
<td>2.5.5
</td></tr>
<tr>
<td>Mono
</td>
<td>5.12.0
</td>
<td>5.18.0
</td></tr>
<tr>
<td>TCL
</td>
<td>8.6.0
</td>
<td>8.6.9
</td></tr>
<tr>
<td>R
</td>
<td>3.3.3
</td>
<td>3.5.2
</td></tr></tbody></table>
<h2><span class="mw-headline" id="Solutions_to_common_problems" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-Solutions_to_common_problems&quot;,&quot;replies&quot;:[&quot;h-Executable_paths_with_jsub-Solutions_to_common_problems&quot;,&quot;h-Rebuild_virtualenv_for_python_users-Solutions_to_common_problems&quot;,&quot;h-Delete_a_tool-Solutions_to_common_problems&quot;,&quot;h-SSH_to_login-buster.toolforge.org_fails_with_'Permission_denied_(publickey)'-Solutions_to_common_problems&quot;,&quot;h-SSH_to_login-buster.toolforge.org_fails_with_'Permission_denied_(publickey,hostb-Solutions_to_common_problems&quot;,&quot;h-How_to_determine_where_your_job_is_running-Solutions_to_common_problems&quot;],&quot;headingLevel&quot;:2,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-Solutions_to_common_problems"></span>Solutions to common problems<span data-mw-comment-end="h-Solutions_to_common_problems"></span></span></h2>
<p>Having trouble with the new grid? If the answer to your problem isn't here, ask for help in <span style="font-family: monospace,Courier; white-space: pre-wrap !important; word-wrap: break-word; max-width: 1200px; overflow: auto;"><a href="ircs://irc.libera.chat/wikimedia-cloud" class="extiw" title="liberachat:wikimedia-cloud">#wikimedia-cloud</a></span> <sup class="plainlinks"><a rel="nofollow" class="external text" href="https://web.libera.chat/?#wikimedia-cloud"><span style="color:green;">connect</span></a></sup> or <a class="external text" href="https://phabricator.wikimedia.org/maniphest/task/edit/form/1/?title=Buster+grid+problem%3A+(your+description)&amp;owner=&amp;description=While+migrating+(my+tool)+to+the+Buster+job+grid+I+ran+into+this+problem%3A&amp;projects=toolforge%2C+wmcs-kanban&amp;priority=triage">file a task in Phabricator using this template</a>.
</p>
<h3><span class="mw-headline" id="Executable_paths_with_jsub" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-Executable_paths_with_jsub-Solutions_to_common_problems&quot;,&quot;replies&quot;:[],&quot;headingLevel&quot;:3,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-Executable_paths_with_jsub-Solutions_to_common_problems"></span>Executable paths with jsub<span data-mw-comment-end="h-Executable_paths_with_jsub-Solutions_to_common_problems"></span></span></h3>
<p>Some system executables have changed their path between Debian releases. When scheduling jobs, the <code>jsub</code> command resolves the full path for executable files, which means that a given command may fail if the destination grid is not the same Debian release as the server in which <code>jsub</code> is run.
</p><p>This happens in particular when running <code>jsub</code> from a Debian Buster bastion host to schedule jobs in the Debian Stretch grid.
</p><p>The solutions to these problem are simple in most cases:
</p>
<ul><li>use a wrapper script as entry point for your jobs.</li>
<li>schedule a job for a given grid release from a matching Debian release bastion.</li>
<li>if possible, use explicit full path when scheduling your <code>jsub</code> jobs.</li></ul>
<p>Example of a problematic <code>jsub</code> operation, in a Debian Buster bastion:
</p>
<div class="mw-highlight mw-highlight-lang-shell-session mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">tool.mytool@tools-sgebastion-10:~ $ </span>jsub -N myjob-stretch -release stretch <span class="nb">echo</span> hi
<span class="go">Tour job 3595 ("myjob-stretch") has been submitted</span>
<span class="gp">tool.mytool@tools-sgebastion-10:~ $ </span>jsub -N myjob-buster -release buster <span class="nb">echo</span> hi
<span class="go">Your job 3596 ("myjob-buster") has been submitted</span>
<span class="gp">tool.mytool@tools-sgebastion-10:~ $ </span>cat myjob-stretch.*
<span class="go">-bash: /usr/bin/echo: No such file or directory</span>
<span class="gp">tool.mytool@tools-sgebastion-10:~ $ </span>cat myjob-buster.*
<span class="go">hi</span>
</pre></div>
<p>Example of a good <code>jsub</code> operation, in a Debian Buster bastion:
</p>
<div class="mw-highlight mw-highlight-lang-shell-session mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">tool.mytool@tools-sgebastion-10:~ $ </span>jsub -N mywrappedjob-stretch -release stretch ./my-wrapper.sh
<span class="go">Tour job 3596 ("mywrappedjob-stretch") has been submitted</span>
<span class="gp">tool.mytool@tools-sgebastion-10:~ $ </span>jsub -N myjob-stretch -release stretch /bin/echo hi
<span class="go">Tour job 3597 ("myjob-stretch") has been submitted</span>
<span class="gp">tool.mytool@tools-sgebastion-10:~ $ </span>jsub -N myjob-buster -release buster /bin/echo hi
<span class="go">Your job 3598 ("myjob-buster") has been submitted</span>
<span class="gp">tool.mytool@tools-sgebastion-10:~ $ </span>cat mywrappedjob-stretch.*
<span class="go">hi</span>
<span class="gp">tool.mytool@tools-sgebastion-10:~ $ </span>cat myjob-stretch.*
<span class="go">hi</span>
<span class="gp">tool.mytool@tools-sgebastion-10:~ $ </span>cat myjob-buster.*
<span class="go">hi</span>
</pre></div>
<p>In case of cron jobs, the problem is the same, with the particularity that our cron server is Debian Stretch, and will stay that way until the end of the migration, when we will introduce a Debian Buster cron server replacement.
</p><p>Example of a reasonable crontab file (uses either a wrapper or full path):
</p>
<div class="mw-highlight mw-highlight-lang-shell-session mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">tool.mytool@tools-sgebastion-10:~ $ </span>crontab -l
<span class="go">10 * * * * /usr/bin/jsub -N cron-10 -once -quiet ./mywrappedjob.sh</span>
<span class="go">12 * * * * /usr/bin/jsub -N cron-11 -once -quiet /bin/echo hello</span>
</pre></div>
<p>Example of a bad crontab file (no wrapper, missing full path):
</p>
<div class="mw-highlight mw-highlight-lang-shell-session mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">tool.mytool@tools-sgebastion-10:~ $ </span>crontab -l
<span class="go">10 * * * * /usr/bin/jsub -N cron-10 -once -quiet echo hello</span>
</pre></div>
<h3><span class="mw-headline" id="Rebuild_virtualenv_for_python_users" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-Rebuild_virtualenv_for_python_users-Solutions_to_common_problems&quot;,&quot;replies&quot;:[&quot;h-Example_1:_Upgrading_a_Stretch_grid_engine_based_tool_to_the_Buster_grid-Rebuild_virtualenv_for_python_users&quot;,&quot;h-Example_2:_Upgrading_a_uWSGI_webservice_into_a_Kubernetes_container-Rebuild_virtualenv_for_python_users&quot;,&quot;h-Example_3:_Upgrading_a_Kubernetes_uWSGI_webservice-Rebuild_virtualenv_for_python_users&quot;],&quot;headingLevel&quot;:3,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-Rebuild_virtualenv_for_python_users-Solutions_to_common_problems"></span>Rebuild virtualenv for python users<span data-mw-comment-end="h-Rebuild_virtualenv_for_python_users-Solutions_to_common_problems"></span></span></h3>
<p>Since the python executables and libraries are updated in Debian Buster, local virtualenvs will need to be deleted and re-created on the new bastion for anything that runs from those virtualenvs to work.  Several errors are likely to be caused by old virtualenvs with one obvious one being an unexpected <code>ImportError</code>.
</p><p>Using a requirements file may make this simpler in many cases, if your project doesn't already use one.  You can create one in your local directory by running <code>pip freeze > requirements.txt</code> in your tool folder with your virtualenv activated.  Then later on, you can simply use <code>pip install -r requirements.txt</code> to install the new environment after you deleted the old virtualenv and created a new one.  For more information on this option, see <a rel="nofollow" class="external text" href="https://pip.pypa.io/en/stable/user_guide/#requirements-files">pip's documentation on requirements files</a>.
</p>
<h5><span class="mw-headline" id="Example_1:_Upgrading_a_Stretch_grid_engine_based_tool_to_the_Buster_grid" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-Example_1:_Upgrading_a_Stretch_grid_engine_based_tool_to_the_Buster_grid-Rebuild_virtualenv_for_python_users&quot;,&quot;replies&quot;:[],&quot;headingLevel&quot;:5,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-Example_1:_Upgrading_a_Stretch_grid_engine_based_tool_to_the_Buster_grid-Rebuild_virtualenv_for_python_users"></span>Example 1: Upgrading a Stretch grid engine based tool to the Buster grid<span data-mw-comment-end="h-Example_1:_Upgrading_a_Stretch_grid_engine_based_tool_to_the_Buster_grid-Rebuild_virtualenv_for_python_users"></span></span></h5>
<p>Follow these steps if you manually submit jobs using jsub, or if you submit jobs using a crontab.
</p>
<div class="mw-highlight mw-highlight-lang-shell-session mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">$ </span>ssh &lt;your-shell-name>@login-buster.toolforge.org
<span class="gp">$ </span>become YOUR_TOOL
<span class="gp">$ </span>rm -rf venv     <span class="c1"># This will destroy the virtualenv and all libraries, so make sure you know what you will need to install later!</span>
<span class="gp">$ </span>virtualenv venv
<span class="gp">$ </span><span class="nb">source</span> venv/bin/activate
<span class="gp">$ </span>pip install --upgrade pip <span class="c1"># upgrade pip itself to avoid problems with older versions</span>
<span class="gp">$ </span>pip install ... <span class="c1"># Here you'd use the requirements file syntax if you have one, or you'd manually install each needed library.</span>
</pre></div>
<h5><span class="mw-headline" id="Example_2:_Upgrading_a_uWSGI_webservice_into_a_Kubernetes_container" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-Example_2:_Upgrading_a_uWSGI_webservice_into_a_Kubernetes_container-Rebuild_virtualenv_for_python_users&quot;,&quot;replies&quot;:[],&quot;headingLevel&quot;:5,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-Example_2:_Upgrading_a_uWSGI_webservice_into_a_Kubernetes_container-Rebuild_virtualenv_for_python_users"></span>Example 2: Upgrading a uWSGI webservice into a Kubernetes container<span data-mw-comment-end="h-Example_2:_Upgrading_a_uWSGI_webservice_into_a_Kubernetes_container-Rebuild_virtualenv_for_python_users"></span></span></h5>
<p>If you are currently running your uWSGI webservice under the Grid Engine backend (i.e.,  <code>webservice uwsgi-python <var>command</var></code>), and you want to upgrade to a uWSGI webservice running under Kubernetes (i.e.,  <code>webservice --backend=kubernetes python <var>command)</var></code>, you should rebuild your virtualenv as follows:
</p>
<div class="mw-highlight mw-highlight-lang-shell-session mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">$ </span>ssh &lt;your-shell-name>@login-buster.toolforge.org
<span class="gp">$ </span>become YOUR-TOOL
<span class="gp">$ </span>webservice --backend<span class="o">=</span>kubernetes python stop
<span class="gp">$ </span>webservice --backend<span class="o">=</span>kubernetes python shell <span class="c1"># do not skip this step – setting up the venv directly from the bastion may result in serious performance issues, compare T214086</span>
<span class="gp">$ </span>rm -rf www/python/venv/ <span class="c1"># this will destroy the virtualenv and all libraries, so make sure you know what you will need to install later!</span>
<span class="gp">$ </span>python3 -m venv www/python/venv/
<span class="gp">$ </span><span class="nb">source</span> www/python/venv/bin/activate
<span class="gp">$ </span>pip install --upgrade pip <span class="c1"># upgrade pip itself to avoid problems with older versions</span>
<span class="gp">$ </span>pip install -r www/python/src/requirements.txt <span class="c1"># assuming your tool has a requirements.txt file</span>
<span class="gp">$ </span>webservice --backend<span class="o">=</span>kubernetes python start
</pre></div>
<h5><span class="mw-headline" id="Example_3:_Upgrading_a_Kubernetes_uWSGI_webservice" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-Example_3:_Upgrading_a_Kubernetes_uWSGI_webservice-Rebuild_virtualenv_for_python_users&quot;,&quot;replies&quot;:[],&quot;headingLevel&quot;:5,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-Example_3:_Upgrading_a_Kubernetes_uWSGI_webservice-Rebuild_virtualenv_for_python_users"></span>Example 3: Upgrading a Kubernetes uWSGI webservice<span data-mw-comment-end="h-Example_3:_Upgrading_a_Kubernetes_uWSGI_webservice-Rebuild_virtualenv_for_python_users"></span></span></h5>
<p>If you are already using the Kubernetes backend, there is nothing you need to do -- the container will use the same image as before.
</p>
<h3><span class="mw-headline" id="Delete_a_tool" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-Delete_a_tool-Solutions_to_common_problems&quot;,&quot;replies&quot;:[],&quot;headingLevel&quot;:3,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-Delete_a_tool-Solutions_to_common_problems"></span>Delete a tool<span data-mw-comment-end="h-Delete_a_tool-Solutions_to_common_problems"></span></span></h3>
<div style="float:right; clear:right; border:1px solid #999; border-radius: .5em; background-color:#eee; background-image: linear-gradient(#ddd, #eee); font-size:85%; text-align:center; padding:0.5em; margin-left:1em; margin-bottom:1em; width:12em" class="plainlinks mw-trackedTemplate">Tracked in <a href="https://phabricator.wikimedia.org/" class="extiw" title="phabricator:">Phabricator</a><br/><b><a href="https://phabricator.wikimedia.org/T170355" class="extiw" title="phabricator:T170355"><span class="trakfab-T170355">Task T170355</span></a></b></div>
<p>Some tools were experiments that are done, others were made obsolete by other tools, some are just things that the original maintainer is tired of caring for. There is no UI with a big red "Delete this tool" button, so how can you responsibly request that a tool be deleted?
</p><p>You can't delete a tool account yourself, though you can delete the content of your directories and make an existing web tool inaccessible by shutting down the web service (<code>webservice stop</code>).  If you really want a tool account to be deleted, please follow the steps described at <a href="https://phabricator.wikimedia.org/project/view/3975" class="extiw" title="phab:project/view/3975">Toolforge (Tools to be deleted)</a>.
</p>
<h3><span id="SSH_to_login-buster.toolforge.org_fails_with_.27Permission_denied_.28publickey.29.27"></span><span class="mw-headline" id="SSH_to_login-buster.toolforge.org_fails_with_'Permission_denied_(publickey)'" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-SSH_to_login-buster.toolforge.org_fails_with_'Permission_denied_(publickey)'-Solutions_to_common_problems&quot;,&quot;replies&quot;:[],&quot;headingLevel&quot;:3,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-SSH_to_login-buster.toolforge.org_fails_with_'Permission_denied_(publickey)'-Solutions_to_common_problems"></span>SSH to login-buster.toolforge.org fails with 'Permission denied (publickey)'<span data-mw-comment-end="h-SSH_to_login-buster.toolforge.org_fails_with_'Permission_denied_(publickey)'-Solutions_to_common_problems"></span></span></h3>
<div style="float:right; clear:right; border:1px solid #999; border-radius: .5em; background-color:#eee; background-image: linear-gradient(#ddd, #eee); font-size:85%; text-align:center; padding:0.5em; margin-left:1em; margin-bottom:1em; width:12em" class="plainlinks mw-trackedTemplate">Tracked in <a href="https://phabricator.wikimedia.org/" class="extiw" title="phabricator:">Phabricator</a><br/><b><a href="https://phabricator.wikimedia.org/T168433" class="extiw" title="phabricator:T168433"><span class="trakfab-T168433">Task T168433</span></a></b></div>
<p>This is typically an issue with the newer Debian Buster provided version of <code>sshd</code> on the server side refusing to authenticate an insecure or deprecated public key type. Specifically, support for DSA (ssh-dss) keys was deprecated in Openssh 7.0. If your ssh public key starts with the string "ssh-dss" you will be impacted by this. RSA keys smaller than 1024 bits are also deprecated.
</p><p>First make sure that you are passing a valid key by attempting to ssh to <code>login.toolforge.org</code> using the same public key and username. If this also fails, the problem is likely something other than the ssh key type. Join us in <span style="font-family: monospace,Courier; white-space: pre-wrap !important; word-wrap: break-word; max-width: 1200px; overflow: auto;"><a href="ircs://irc.libera.chat/wikimedia-cloud" class="extiw" title="liberachat:wikimedia-cloud">#wikimedia-cloud</a></span> <sup class="plainlinks"><a rel="nofollow" class="external text" href="https://web.libera.chat/?#wikimedia-cloud"><span style="color:green;">connect</span></a></sup> for interactive debugging help.
</p><p>If you can ssh to <code>login.toolforge.org</code> with no errors, your key is probably of an unsupported type. Generate a new ssh key pair and upload the public key using the form at  <a class="external free" href="https://toolsadmin.wikimedia.org/profile/settings/ssh-keys">https://toolsadmin.wikimedia.org/profile/settings/ssh-keys</a> or <a href="/wiki/Special:Preferences#mw-prefsection-openstack" title="Special:Preferences">Special:Preferences#mw-prefsection-openstack</a>. We currently recommend using either <b>ed25519</b> or <b>4096-bit RSA</b> keys. See <a href="/wiki/Production_shell_access#Generating_your_SSH_key" class="mw-redirect" title="Production shell access">Production shell access#Generating your SSH key</a> for more information.
</p>
<h3><span id="SSH_to_login-buster.toolforge.org_fails_with_.27Permission_denied_.28publickey.2Chostbased.29.27"></span><span class="mw-headline" id="SSH_to_login-buster.toolforge.org_fails_with_'Permission_denied_(publickey,hostbased)'" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-SSH_to_login-buster.toolforge.org_fails_with_'Permission_denied_(publickey,hostb-Solutions_to_common_problems&quot;,&quot;replies&quot;:[],&quot;headingLevel&quot;:3,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-SSH_to_login-buster.toolforge.org_fails_with_'Permission_denied_(publickey,hostb-Solutions_to_common_problems"></span>SSH to login-buster.toolforge.org fails with 'Permission denied (publickey,hostbased)'<span data-mw-comment-end="h-SSH_to_login-buster.toolforge.org_fails_with_'Permission_denied_(publickey,hostb-Solutions_to_common_problems"></span></span></h3>
<p>In case you face this problem, make sure to use the right shell name located on your <a href="/wiki/Special:Preferences" title="Special:Preferences">User Preferences</a> called **Instance shell account name**. It's supposed to be used in logging into the Toolforge server when need be, whether Stretch or Buster.
</p>
<h3><span class="mw-headline" id="How_to_determine_where_your_job_is_running" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-How_to_determine_where_your_job_is_running-Solutions_to_common_problems&quot;,&quot;replies&quot;:[],&quot;headingLevel&quot;:3,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-How_to_determine_where_your_job_is_running-Solutions_to_common_problems"></span>How to determine where your job is running<span data-mw-comment-end="h-How_to_determine_where_your_job_is_running-Solutions_to_common_problems"></span></span></h3>
<p>If you want to know whether your job is running on the old Stretch grid or the new Buster grid, use the <code>qstat</code> command with the <code>-xml</code> flag.
</p><p><br/>
</p>
<div class="mw-highlight mw-highlight-lang-shell-session mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">tool.mytool@tools-sgebastion-10:~ $ </span>qstat -xml
<span class="go">&lt;?xml version='1.0'?></span>
<span class="go">&lt;job_info  xmlns:xsd="http://arc.liv.ac.uk/repos/darcs/sge/source/dist/util/resources/schemas/qstat/qstat.xsd"></span>
<span class="go">  &lt;queue_info></span>
<span class="go">    &lt;job_list state="running"></span>
<span class="go">      &lt;JB_job_number>1784&lt;/JB_job_number></span>
<span class="go">      &lt;JAT_prio>0.59108&lt;/JAT_prio></span>
<span class="go">      &lt;JB_name>lighttpd-mytool&lt;/JB_name></span>
<span class="go">      &lt;JB_owner>tools.mytool&lt;/JB_owner></span>
<span class="go">      &lt;state>r&lt;/state></span>
<span class="go">      &lt;JAT_start_time>2021-03-25T18:20:31&lt;/JAT_start_time></span>
<span class="go">      &lt;queue_name>webgrid-lighttpd@tools-sgewebgrid-lighttpd-0917.tools.eqiad.wmflabs&lt;/queue_name></span>
<span class="go">      &lt;slots>1&lt;/slots></span>
<span class="go">    &lt;/job_list></span>
<span class="go">  &lt;/queue_info></span>
<span class="go">  &lt;job_info></span>
<span class="go">  &lt;/job_info></span>
<span class="go">&lt;/job_info></span>
</pre></div>
<p>The hostname component of the <code>&lt;queue_name></code> that the job is running under tells you if the queue is running on Stretch (contains -09nn where nn is any two digits) or Buster (contains -10- )
</p>
<h2><span class="mw-headline" id="Monitoring_tools" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-Monitoring_tools&quot;,&quot;replies&quot;:[],&quot;headingLevel&quot;:2,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-Monitoring_tools"></span>Monitoring tools<span data-mw-comment-end="h-Monitoring_tools"></span></span></h2>
<ul><li><a href="https://iw.toolforge.org/grid-deprecation" class="extiw" title="toolforge:grid-deprecation">Tools running jobs on Stretch grid engine in last 7 days</a>
<ul><li>This report updates once per hour and will not report jobs that have been seen running on the Buster grid in the same 7 day period.</li>
<li>Report has drill down pages for each maintainer and tool. Examples: <a href="https://iw.toolforge.org/grid-deprecation/u/bd808" class="extiw" title="toolforge:grid-deprecation/u/bd808">bd808's tools</a>, <a href="https://iw.toolforge.org/grid-deprecation/t/sge-status" class="extiw" title="toolforge:grid-deprecation/t/sge-status">sge-status tool</a></li></ul></li></ul>
<h2><span id="Why_are_we_doing_this.3F"></span><span class="mw-headline" id="Why_are_we_doing_this?" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-Why_are_we_doing_this?&quot;,&quot;replies&quot;:[],&quot;headingLevel&quot;:2,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-Why_are_we_doing_this?"></span>Why are we doing this?<span data-mw-comment-end="h-Why_are_we_doing_this?"></span></span></h2>
<p>This is an implementation of our Operating System Upgrade Policy.
</p><p>In a nutshell, we use Debian and deprecate versions three years after release and remove them completely from our infrastructure by four years after their release.
</p><p>Debian Stretch was released in June 2017, and long term support for it (including security updates) will cease in June 2022. We need to shut down all Stretch hosts before the end of support date to ensure that Toolforge remains a secure platform. This migration will take several months because many people still use the Stretch hosts and our users are working on tools in their spare time.
</p><p>See <a href="/wiki/Operating_system_upgrade_policy" title="Operating system upgrade policy">Operating System Upgrade Policy</a> for more information.
</p>
<h2><span class="mw-headline" id="See_also" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-See_also&quot;,&quot;replies&quot;:[],&quot;headingLevel&quot;:2,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-See_also"></span>See also<span data-mw-comment-end="h-See_also"></span></span></h2>
<ul><li><a href="https://lists.wikimedia.org/hyperkitty/list/cloud-announce@lists.wikimedia.org/thread/LCQQ3M6SNXCHCMNKUUWOIHGSXYR4CS7L/" class="extiw" title="listarchive:list/cloud-announce@lists.wikimedia.org/thread/LCQQ3M6SNXCHCMNKUUWOIHGSXYR4CS7L/">[Cloud-announce] Use of Debian Stretch now discouraged</a></li>
<li><a href="https://lists.wikimedia.org/hyperkitty/list/cloud-announce@lists.wikimedia.org/thread/EPJFISC52T7OOEFH5YYMZNL57O4VGSPR/" class="extiw" title="listarchive:list/cloud-announce@lists.wikimedia.org/thread/EPJFISC52T7OOEFH5YYMZNL57O4VGSPR/">[Cloud-announce] [IMPORTANT] Announcing Toolforge Debian Stretch Grid Engine deprecation</a></li>
<li><a class="external text" href="https://techblog.wikimedia.org/2022/03/14/toolforge-and-grid-engine/">Wikimedia Techblog: Toolforge and Grid Engine</a></li>
<li><a class="external text" href="https://techblog.wikimedia.org/2022/03/16/toolforge-gridengine-debian-10-buster-migration/">Wikimedia Techblog: Toolforge GridEngine Debian 10 Buster migration</a></li>
<li><a class="external text" href="https://techblog.wikimedia.org/2022/03/18/toolforge-jobs-framework/">Wikimedia Techblog: Toolforge Jobs Framework</a></li></ul>
<h2><span class="mw-headline" id="Communication_and_support" data-mw-comment="{&quot;type&quot;:&quot;heading&quot;,&quot;level&quot;:0,&quot;id&quot;:&quot;h-Communication_and_support&quot;,&quot;replies&quot;:[],&quot;headingLevel&quot;:2,&quot;placeholderHeading&quot;:false,&quot;name&quot;:&quot;h-&quot;}"><span data-mw-comment-start="" id="h-Communication_and_support"></span>Communication and support<span data-mw-comment-end="h-Communication_and_support"></span></span></h2>
<p>Support and administration of the WMCS resources is provided by the <a href="https://www.mediawiki.org/wiki/Wikimedia_Cloud_Services_team" class="extiw" title="mw:Wikimedia Cloud Services team">Wikimedia Foundation Cloud Services team</a> and <a href="https://foundation.wikimedia.org/wiki/Volunteer_opportunities" class="extiw" title="wmf:Volunteer opportunities">Wikimedia movement volunteers</a>. Please reach out with questions and join the conversation:
</p>
<style data-mw-deduplicate="TemplateStyles:r1873494">.mw-parser-output .wiki-template-contentgrid{padding:10px;margin-bottom:1em;display:grid}</style>
<div class="wiki-template-contentgrid" style="margin-right: 1em; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); grid-gap: 10px; grid-auto-rows: minmax(100px, auto); width: auto;"><style data-mw-deduplicate="TemplateStyles:r1873637">.mw-parser-output .mw-tpl-colorbox{box-sizing:border-box;margin:0.5em 0.5em 1em 0.5em;border-radius:0.2em;background:#fff;box-shadow:0 0 0.2em #999999}.mw-parser-output .mw-tpl-colorbox-title{background:#eaecf0;color:#000000;border-radius:0.2em 0.2em 0 0;padding:0.5em 1em 0.5em 1em}.mw-parser-output .mw-tpl-colorbox-title-icon{opacity:0.8}.mw-parser-output .mw-tpl-colorbox-title-corner{float:right;font-size:0.7em}.mw-parser-output .mw-tpl-colorbox-content{padding:0.5em 1em 0.5em 1em}</style><div class="mw-tpl-colorbox" style=";"><div class="mw-tpl-colorbox-title" style=""><strong style="">Discuss and receive general support</strong>
</div><div class="mw-tpl-colorbox-content">
<ul><li>Chat in real time in the <a href="/wiki/Help:IRC" title="Help:IRC">IRC channel</a> <span style="font-family: monospace,Courier; white-space: pre-wrap !important; word-wrap: break-word; max-width: 1200px; overflow: auto;"><a href="ircs://irc.libera.chat/wikimedia-cloud" class="extiw" title="liberachat:wikimedia-cloud">#wikimedia-cloud</a></span> <sup class="plainlinks"><a rel="nofollow" class="external text" href="https://web.libera.chat/?#wikimedia-cloud"><span style="color:green;">connect</span></a></sup>, the bridged <a rel="nofollow" class="external text" href="https://t.me/wmcloudirc">Telegram channel</a>, or the bridged <a rel="nofollow" class="external text" href="https://chat.wmcloud.org/wikimedia/channels/wikimedia-cloud">Mattermost channel</a></li>
<li>Discuss via email after you subscribed to the <a href="https://lists.wikimedia.org/postorius/lists/cloud.lists.wikimedia.org/" class="extiw" title="mail:cloud">cloud@</a> <a href="https://meta.wikimedia.org/wiki/Special:MyLanguage/Mailing_lists" class="extiw" title="meta:Special:MyLanguage/Mailing lists">mailing list</a><div style="clear: both;"></div></li></ul></div>
</div>
<link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1873637"/><div class="mw-tpl-colorbox" style=";"><div class="mw-tpl-colorbox-title" style=""><strong style="">Receive mail announcements about critical changes</strong>
</div><div class="mw-tpl-colorbox-content">
Subscribe to the <a href="https://lists.wikimedia.org/postorius/lists/cloud-announce.lists.wikimedia.org/" class="extiw" title="mail:cloud-announce">cloud-announce@</a> <a href="https://meta.wikimedia.org/wiki/Special:MyLanguage/Mailing_lists" class="extiw" title="meta:Special:MyLanguage/Mailing lists">mailing list</a> (all messages are also mirrored to the cloud@ list)<div style="clear: both;"></div></div>
</div>
<link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1873637"/><div class="mw-tpl-colorbox" style=";"><div class="mw-tpl-colorbox-title" style=""><strong style="">Track work tasks and <a href="https://www.mediawiki.org/wiki/Special:MyLanguage/How_to_report_a_bug" class="extiw" title="mw:Special:MyLanguage/How to report a bug">report bugs</a></strong>
</div><div class="mw-tpl-colorbox-content">
Use the <a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Phabricator" class="extiw" title="mw:Special:MyLanguage/Phabricator">Phabricator</a> workboard <a href="https://phabricator.wikimedia.org/project/profile/832/" class="extiw" title="phab:project/profile/832/">#Cloud-Services</a> for bug reports and feature requests about the Cloud VPS infrastructure itself<div style="clear: both;"></div></div>
</div>
<link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1873637"/><div class="mw-tpl-colorbox" style=";"><div class="mw-tpl-colorbox-title" style=""><strong style="">Learn about major near-term plans</strong>
</div><div class="mw-tpl-colorbox-content">
Read the <a href="/wiki/News" title="News">News</a> wiki page<div style="clear: both;"></div></div>
</div>
<link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1873637"/><div class="mw-tpl-colorbox" style=";"><div class="mw-tpl-colorbox-title" style=""><strong style="">Read news and stories about Wikimedia Cloud Services</strong>
</div><div class="mw-tpl-colorbox-content">
Read the <a href="https://phabricator.wikimedia.org/phame/blog/view/5/" class="extiw" title="phab:phame/blog/view/5/">Cloud Services Blog</a> (for the broader Wikimedia movement, see the <a class="external text" href="https://techblog.wikimedia.org/">Wikimedia Technical Blog</a>)<div style="clear: both;"></div></div>
</div></div>
<!-- 
NewPP limit report
Parsed by labweb1001
Cached time: 20220505205751
Cache expiry: 1814400
Reduced expiry: false
Complications: []
DiscussionTools time usage: 0.032 seconds
CPU time usage: 0.207 seconds
Real time usage: 0.257 seconds
Preprocessor visited node count: 1079/1000000
Post‐expand include size: 15293/2097152 bytes
Template argument size: 4793/2097152 bytes
Highest expansion depth: 14/100
Expensive parser function count: 0/500
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 14362/5000000 bytes
Lua time usage: 0.048/10.000 seconds
Lua memory usage: 856246/52428800 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%  162.309      1 -total
 49.10%   79.688      2 Template:Note
 46.82%   75.992      2 Template:Mbox
 21.48%   34.863      1 Help:Cloud_Services_communication
 19.04%   30.908      1 Template:ContentGrid
 15.07%   24.454      2 Template:Tracked
 13.44%   21.818      5 Template:Colored_box
 12.92%   20.963      7 Template:Dir
  7.12%   11.559      7 Template:Pagelang
  5.65%    9.164      5 Template:Clr
-->

<!-- Saved in parser cache with key labswiki:pcache:idhash:447644-0!canonical and timestamp 20220505205751 and revision id 1978598. Serialized with JSON.
 -->
</div>
<div class="printfooter">Retrieved from "<a dir="ltr" href="https://wikitech.wikimedia.org/w/index.php?title=News/Toolforge_Stretch_deprecation&amp;oldid=1978598">https://wikitech.wikimedia.org/w/index.php?title=News/Toolforge_Stretch_deprecation&amp;oldid=1978598</a>"</div></div>
		<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="/wiki/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="/wiki/Category:Documentation" title="Category:Documentation">Documentation</a></li></ul></div></div>
	</div>
</div>

<div id="mw-navigation">
	<h2>Navigation menu</h2>
	<div id="mw-head">
		
<nav id="p-personal" class="mw-portlet mw-portlet-personal vector-user-menu-legacy vector-menu" aria-labelledby="p-personal-label" role="navigation" 
	 >
	<label id="p-personal-label" aria-label="" class="vector-menu-heading "  >
		<span class="vector-menu-heading-label">Personal tools</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="pt-uls" class="mw-list-item active"><a class="uls-trigger" href="#"><span>English</span></a></li><li id="pt-createaccount" class="mw-list-item"><a href="/w/index.php?title=Special:CreateAccount&amp;returnto=News%2FToolforge+Stretch+deprecation" title="You are encouraged to create an account and log in; however, it is not mandatory"><span>Create account</span></a></li><li id="pt-login" class="mw-list-item"><a href="/w/index.php?title=Special:UserLogin&amp;returnto=News%2FToolforge+Stretch+deprecation" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o"><span>Log in</span></a></li></ul>
		
	</div>
</nav>

		<div id="left-navigation">
			
<nav id="p-namespaces" class="mw-portlet mw-portlet-namespaces vector-menu vector-menu-tabs" aria-labelledby="p-namespaces-label" role="navigation" 
	 >
	<label id="p-namespaces-label" aria-label="" class="vector-menu-heading "  >
		<span class="vector-menu-heading-label">Namespaces</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="ca-nstab-main" class="selected mw-list-item"><a href="/wiki/News/Toolforge_Stretch_deprecation" title="View the content page [c]" accesskey="c"><span>Page</span></a></li><li id="ca-talk" class="mw-list-item"><a href="/wiki/Talk:News/Toolforge_Stretch_deprecation" rel="discussion" title="Discussion about the content page [t]" accesskey="t"><span>Discussion</span></a></li></ul>
		
	</div>
</nav>

			
<nav id="p-variants" class="mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown-noicon vector-menu vector-menu-dropdown" aria-labelledby="p-variants-label" role="navigation" 
	 >
	<input type="checkbox"
		id="p-variants-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-p-variants"
		class="vector-menu-checkbox" aria-labelledby="p-variants-label" />
	<label id="p-variants-label" aria-label="Change language variant" class="vector-menu-heading "  >
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</nav>

		</div>
		<div id="right-navigation">
			
<nav id="p-views" class="mw-portlet mw-portlet-views vector-menu vector-menu-tabs" aria-labelledby="p-views-label" role="navigation" 
	 >
	<label id="p-views-label" aria-label="" class="vector-menu-heading "  >
		<span class="vector-menu-heading-label">Views</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="ca-view" class="selected mw-list-item"><a href="/wiki/News/Toolforge_Stretch_deprecation"><span>Read</span></a></li><li id="ca-viewsource" class="mw-list-item"><a href="/w/index.php?title=News/Toolforge_Stretch_deprecation&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e"><span>View source</span></a></li><li id="ca-history" class="mw-list-item"><a href="/w/index.php?title=News/Toolforge_Stretch_deprecation&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li></ul>
		
	</div>
</nav>

			
<nav id="p-cactions" class="mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown-noicon vector-menu vector-menu-dropdown" aria-labelledby="p-cactions-label" role="navigation"  title="More options"
	 >
	<input type="checkbox"
		id="p-cactions-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-p-cactions"
		class="vector-menu-checkbox" aria-labelledby="p-cactions-label" />
	<label id="p-cactions-label" aria-label="" class="vector-menu-heading "  >
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</nav>

			
<div id="p-search" role="search" class="vector-search-box-vue  vector-search-box-show-thumbnail vector-search-box-auto-expand-width vector-search-box">
	<div>
			<h3 >
				<label for="searchInput">Search</label>
			</h3>
		<form action="/w/index.php" id="searchform"
			class="vector-search-box-form">
			<div id="simpleSearch"
				class="vector-search-box-inner"
				 data-search-loc="header-navigation">
				<input class="vector-search-box-input"
					 type="search" name="search" placeholder="Search Wikitech" aria-label="Search Wikitech" autocapitalize="sentences" title="Search Wikitech [f]" accesskey="f" id="searchInput"
				/>
				<input type="hidden" name="title" value="Special:Search"/>
				<input id="mw-searchButton"
					 class="searchButton mw-fallbackSearchButton" type="submit" name="fulltext" title="Search the pages for this text" value="Search" />
				<input id="searchButton"
					 class="searchButton" type="submit" name="go" title="Go to a page with this exact name if it exists" value="Go" />
			</div>
		</form>
	</div>
</div>

		</div>
	</div>
	

<div id="mw-panel">
	<div id="p-logo" role="banner">
		<a class="mw-wiki-logo" href="/wiki/Main_Page"
			title="Visit the main page"></a>
	</div>
	
<nav id="p-navigation" class="mw-portlet mw-portlet-navigation vector-menu vector-menu-portal portal" aria-labelledby="p-navigation-label" role="navigation" 
	 >
	<label id="p-navigation-label" aria-label="" class="vector-menu-heading "  >
		<span class="vector-menu-heading-label">Navigation</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="n-mainpage-description" class="mw-list-item"><a href="/wiki/Main_Page" icon="home" title="Visit the main page [z]" accesskey="z"><span>Main page</span></a></li><li id="n-recentchanges" class="mw-list-item"><a href="/wiki/Special:RecentChanges" icon="recentChanges" title="A list of recent changes in the wiki [r]" accesskey="r"><span>Recent changes</span></a></li><li id="n-Server-admin-log:-Prod" class="mw-list-item"><a href="/wiki/Server_Admin_Log"><span>Server admin log: Prod</span></a></li><li id="n-Admin-log:-RelEng" class="mw-list-item"><a href="/wiki/Release_Engineering/SAL"><span>Admin log: RelEng</span></a></li><li id="n-Incident-status" class="mw-list-item"><a href="/wiki/Incident_status"><span>Incident status</span></a></li><li id="n-Deployments" class="mw-list-item"><a href="/wiki/Deployments"><span>Deployments</span></a></li><li id="n-SRE/Operations-Help" class="mw-list-item"><a href="/wiki/SRE_Team_requests"><span>SRE/Operations Help</span></a></li></ul>
		
	</div>
</nav>

	
<nav id="p-Cloud_VPS_&amp;_Toolforge" class="mw-portlet mw-portlet-Cloud_VPS_Toolforge vector-menu vector-menu-portal portal" aria-labelledby="p-Cloud_VPS_&amp;_Toolforge-label" role="navigation" 
	 >
	<label id="p-Cloud_VPS_&amp;_Toolforge-label" aria-label="" class="vector-menu-heading "  >
		<span class="vector-menu-heading-label">Cloud VPS &amp; Toolforge</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="n-Cloud-VPS-portal" class="mw-list-item"><a href="/wiki/Portal:Cloud_VPS"><span>Cloud VPS portal</span></a></li><li id="n-Toolforge-portal" class="mw-list-item"><a href="/wiki/Portal:Toolforge"><span>Toolforge portal</span></a></li><li id="n-Request-VPS-project" class="mw-list-item"><a href="https://phabricator.wikimedia.org/project/view/2875/"><span>Request VPS project</span></a></li><li id="n-Admin-log:-Cloud-VPS" class="mw-list-item"><a href="/wiki/Cloud_VPS_Server_Admin_Log"><span>Admin log: Cloud VPS</span></a></li></ul>
		
	</div>
</nav>

<nav id="p-tb" class="mw-portlet mw-portlet-tb vector-menu vector-menu-portal portal" aria-labelledby="p-tb-label" role="navigation" 
	 >
	<label id="p-tb-label" aria-label="" class="vector-menu-heading "  >
		<span class="vector-menu-heading-label">Tools</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="t-whatlinkshere" class="mw-list-item"><a href="/wiki/Special:WhatLinksHere/News/Toolforge_Stretch_deprecation" title="A list of all wiki pages that link here [j]" accesskey="j"><span>What links here</span></a></li><li id="t-recentchangeslinked" class="mw-list-item"><a href="/wiki/Special:RecentChangesLinked/News/Toolforge_Stretch_deprecation" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k"><span>Related changes</span></a></li><li id="t-specialpages" class="mw-list-item"><a href="/wiki/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q"><span>Special pages</span></a></li><li id="t-permalink" class="mw-list-item"><a href="/w/index.php?title=News/Toolforge_Stretch_deprecation&amp;oldid=1978598" title="Permanent link to this revision of the page"><span>Permanent link</span></a></li><li id="t-info" class="mw-list-item"><a href="/w/index.php?title=News/Toolforge_Stretch_deprecation&amp;action=info" title="More information about this page"><span>Page information</span></a></li><li id="t-cite" class="mw-list-item"><a href="/w/index.php?title=Special:CiteThisPage&amp;page=News%2FToolforge_Stretch_deprecation&amp;id=1978598&amp;wpFormIdentifier=titleform" title="Information on how to cite this page"><span>Cite this page</span></a></li></ul>
		
	</div>
</nav>

<nav id="p-coll-print_export" class="mw-portlet mw-portlet-coll-print_export vector-menu vector-menu-portal portal" aria-labelledby="p-coll-print_export-label" role="navigation" 
	 >
	<label id="p-coll-print_export-label" aria-label="" class="vector-menu-heading "  >
		<span class="vector-menu-heading-label">Print/export</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="coll-create_a_book" class="mw-list-item"><a href="/w/index.php?title=Special:Book&amp;bookcmd=book_creator&amp;referer=News%2FToolforge+Stretch+deprecation"><span>Create a book</span></a></li><li id="coll-download-as-rl" class="mw-list-item"><a href="/w/index.php?title=Special:DownloadAsPdf&amp;page=News%2FToolforge_Stretch_deprecation&amp;action=show-download-screen"><span>Download as PDF</span></a></li><li id="t-print" class="mw-list-item"><a href="/w/index.php?title=News/Toolforge_Stretch_deprecation&amp;printable=yes" title="Printable version of this page [p]" accesskey="p"><span>Printable version</span></a></li></ul>
		
	</div>
</nav>

	
</div>

</div>

<footer id="footer" class="mw-footer" role="contentinfo" >
	<ul id="footer-info">
	<li id="footer-info-lastmod"> This page was last edited on 5 May 2022, at 20:57.</li>
	<li id="footer-info-copyright">Text is available under the <a href="https://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike License</a>;
additional terms may apply.
See <a href="https://foundation.wikimedia.org/wiki/Terms_of_Use">Terms of Use</a> for details.</li>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://foundation.wikimedia.org/wiki/Privacy_policy" class="extiw" title="wmf:Privacy policy">Privacy policy</a></li>
	<li id="footer-places-about"><a href="/wiki/Main_Page" title="Main Page">About Wikitech</a></li>
	<li id="footer-places-disclaimer"><a href="https://foundation.wikimedia.org/wiki/General_disclaimer" class="extiw" title="wikimedia:General disclaimer">Disclaimers</a></li>
	<li id="footer-places-wm-codeofconduct"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Code_of_Conduct">Code of Conduct</a></li>
	<li id="footer-places-mobileview"><a href="//wikitech.wikimedia.org/w/index.php?title=News/Toolforge_Stretch_deprecation&amp;mobileaction=toggle_view_mobile" class="noprint stopMobileRedirectToggle">Mobile view</a></li>
	<li id="footer-places-developers"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/How_to_contribute">Developers</a></li>
	<li id="footer-places-statslink"><a href="https://stats.wikimedia.org/#/wikitech.wikimedia.org">Statistics</a></li>
	<li id="footer-places-cookiestatement"><a href="https://foundation.wikimedia.org/wiki/Cookie_statement">Cookie statement</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://wikimediafoundation.org/"><img src="/static/images/footer/wikimedia-button.png" srcset="/static/images/footer/wikimedia-button-1.5x.png 1.5x, /static/images/footer/wikimedia-button-2x.png 2x" width="88" height="31" alt="Wikimedia Foundation" loading="lazy" /></a></li>
	<li id="footer-poweredbyico"><a href="https://www.mediawiki.org/"><img src="/static/images/footer/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/static/images/footer/poweredby_mediawiki_132x47.png 1.5x, /static/images/footer/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"/></a></li>
</ul>

</footer>

<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"discussiontools":{"limitreport-timeusage":"0.032"},"limitreport":{"cputime":"0.207","walltime":"0.257","ppvisitednodes":{"value":1079,"limit":1000000},"postexpandincludesize":{"value":15293,"limit":2097152},"templateargumentsize":{"value":4793,"limit":2097152},"expansiondepth":{"value":14,"limit":100},"expensivefunctioncount":{"value":0,"limit":500},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":14362,"limit":5000000},"timingprofile":["100.00%  162.309      1 -total"," 49.10%   79.688      2 Template:Note"," 46.82%   75.992      2 Template:Mbox"," 21.48%   34.863      1 Help:Cloud_Services_communication"," 19.04%   30.908      1 Template:ContentGrid"," 15.07%   24.454      2 Template:Tracked"," 13.44%   21.818      5 Template:Colored_box"," 12.92%   20.963      7 Template:Dir","  7.12%   11.559      7 Template:Pagelang","  5.65%    9.164      5 Template:Clr"]},"scribunto":{"limitreport-timeusage":{"value":"0.048","limit":"10.000"},"limitreport-memusage":{"value":856246,"limit":52428800}},"cachereport":{"origin":"labweb1001","timestamp":"20220505205751","ttl":1814400,"transientcontent":false}}});mw.config.set({"wgBackendResponseTime":117,"wgHostname":"labweb1002"});});</script>
</body>
</html>